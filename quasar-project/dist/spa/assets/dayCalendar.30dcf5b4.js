import{u as Nt,c as O,h as i,v as Sa,bU as Ia,bV as Pa,r as c,bW as Ya,bX as ja,w as ee,b as Ot,bY as Za,Q as ft,g as qt,bZ as Ja,b_ as pa,b$ as en,c0 as tn,c1 as an,c2 as nn,c3 as ln,c4 as rn,e as qa,c5 as Ea,c6 as Ta,G as un,T as Wt,S as dn,L as on,c7 as sn,n as Kt,c8 as cn,a1 as fn,c9 as vn,ca as hn,R as mn,d as Ht,a as $t,o as Qt,f as At,_ as yn,j as va,k as ze,U as tt,p as De,aK as Tt,m as Ve,s as lt,cb as gn,Y as kt,Z as ua,l as ha,q as Rt,t as Ft,au as ma,aw as Pt,bS as ya,cc as _n,bR as bn,X as wn,cd as Dn,V as kn,ce as Sn,a2 as Cn,a3 as qn}from"./index.8a609466.js";import{a as En,Q as Tn,b as Fn}from"./QItem.be20be7b.js";import{Q as Hn}from"./QList.7fdf06c5.js";import{Q as Va,u as Rn,v as Fa,a as On,p as Ha,b as Wn,c as An,r as Ra,s as xn,d as Oa,e as Mn,f as Ln,g as Bn,h as In}from"./viewAllGoals.85d1afc4.js";import{c as wa,b as Pn,g as Na,d as Ka,e as Da,v as Je,f as St,h as vt,p as we,j as ia,k as Ne,u as ga,l as Ct,R as Dt,m as xt,n as Mt,o as Lt,q as zt,r as Ut,s as Ce,t as dt,w as Gt,x as Xt,y as Yt,z as ht,A as jt,B as Zt,C as Jt,D as Ee,E as pt,F as ea,G as rt,H as da,I as oa,J as se,K as ta,L as aa,M as Vn,O as Nn,P as Kn,Q as $n,N as Qn,S as _a,T as Wa,i as Aa}from"./NavigationBar.2bde3d17.js";import{u as zn}from"./goalStorage.5d8645bf.js";import{u as Un}from"./use-quasar.ec58d98a.js";var Gn=Nt({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const a=O(()=>{const d=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${d.length>0?" "+d:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>i("div",{class:a.value},Sa(t.default))}});const Xn=Object.keys(Ia),Yn=e=>Xn.reduce((t,a)=>{const d=e[a];return d!==void 0&&(t[a]=d),t},{});var jn=Nt({name:"QBtnDropdown",props:{...Ia,...Pa,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:a}){const{proxy:d}=qt(),o=c(e.modelValue),m=c(null),D=Ya(),v=O(()=>{const w={"aria-expanded":o.value===!0?"true":"false","aria-haspopup":"true","aria-controls":D,"aria-label":e.toggleAriaLabel||d.$q.lang.label[o.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(w["aria-disabled"]="true"),w}),A=O(()=>"q-btn-dropdown__arrow"+(o.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),_=O(()=>ja(e)),S=O(()=>Yn(e));ee(()=>e.modelValue,w=>{m.value!==null&&m.value[w?"show":"hide"]()}),ee(()=>e.split,C);function I(w){o.value=!0,a("beforeShow",w)}function E(w){a("show",w),a("update:modelValue",!0)}function T(w){o.value=!1,a("beforeHide",w)}function X(w){a("hide",w),a("update:modelValue",!1)}function z(w){a("click",w)}function x(w){Ja(w),C(),a("click",w)}function $(w){m.value!==null&&m.value.toggle(w)}function q(w){m.value!==null&&m.value.show(w)}function C(w){m.value!==null&&m.value.hide(w)}return Object.assign(d,{show:q,hide:C,toggle:$}),Ot(()=>{e.modelValue===!0&&q()}),()=>{const w=[i(Za,{class:A.value,name:e.dropdownIcon||d.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&w.push(i(Va,{ref:m,id:D,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:I,onShow:E,onBeforeHide:T,onHide:X},t.default)),e.split===!1?i(ft,{class:"q-btn-dropdown q-btn-dropdown--simple",...S.value,...v.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:z},{default:()=>Sa(t.label,[]).concat(w),loading:t.loading}):i(Gn,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,..._.value,glossy:e.glossy,stretch:e.stretch},()=>[i(ft,{class:"q-btn-dropdown--current",...S.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:x},{default:t.label,loading:t.loading}),i(ft,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...v.value,..._.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>w)])}}}),ba=Nt({name:"QTooltip",inheritAttrs:!1,props:{...Rn,...pa,...Pa,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Fa},self:{type:String,default:"top middle",validator:Fa},offset:{type:Array,default:()=>[14,14],validator:On},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...en],setup(e,{slots:t,emit:a,attrs:d}){let o,m;const D=qt(),{proxy:{$q:v}}=D,A=c(null),_=c(!1),S=O(()=>Ha(e.anchor,v.lang.rtl)),I=O(()=>Ha(e.self,v.lang.rtl)),E=O(()=>e.persistent!==!0),{registerTick:T,removeTick:X}=tn(),{registerTimeout:z}=an(),{transitionProps:x,transitionStyle:$}=nn(e),{localScrollTarget:q,changeScrollEvent:C,unconfigureScrollTarget:w}=Wn(e,Fe),{anchorEl:_e,canShow:Te,anchorEvents:ye}=An({showing:_,configureAnchorEl:Xe}),{show:ie,hide:L}=ln({showing:_,canShow:Te,handleShow:xe,handleHide:Re,hideOnRouteChange:E,processOnMount:!0});Object.assign(ye,{delayShow:pe,delayHide:Ke});const{showPortal:Q,hidePortal:he,renderPortal:Ie}=rn(D,A,Me,"tooltip");if(v.platform.is.mobile===!0){const ne={anchorEl:_e,innerRef:A,onClickOutside(Le){return L(Le),Le.target.classList.contains("q-dialog__backdrop")&&dn(Le),!0}},ge=O(()=>e.modelValue===null&&e.persistent!==!0&&_.value===!0);ee(ge,Le=>{(Le===!0?Mn:Ra)(ne)}),qa(()=>{Ra(ne)})}function xe(ne){Q(),T(()=>{m=new MutationObserver(()=>Ge()),m.observe(A.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),Ge(),Fe()}),o===void 0&&(o=ee(()=>v.screen.width+"|"+v.screen.height+"|"+e.self+"|"+e.anchor+"|"+v.lang.rtl,Ge)),z(()=>{Q(!0),a("show",ne)},e.transitionDuration)}function Re(ne){X(),he(),Ue(),z(()=>{he(!0),a("hide",ne)},e.transitionDuration)}function Ue(){m!==void 0&&(m.disconnect(),m=void 0),o!==void 0&&(o(),o=void 0),w(),Ea(ye,"tooltipTemp")}function Ge(){const ne=A.value;_e.value===null||!ne||xn({el:ne,offset:e.offset,anchorEl:_e.value,anchorOrigin:S.value,selfOrigin:I.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function pe(ne){if(v.platform.is.mobile===!0){Oa(),document.body.classList.add("non-selectable");const ge=_e.value,Le=["touchmove","touchcancel","touchend","click"].map(fe=>[ge,fe,"delayHide","passiveCapture"]);Ta(ye,"tooltipTemp",Le)}z(()=>{ie(ne)},e.delay)}function Ke(ne){v.platform.is.mobile===!0&&(Ea(ye,"tooltipTemp"),Oa(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),z(()=>{L(ne)},e.hideDelay)}function Xe(){if(e.noParentEvent===!0||_e.value===null)return;const ne=v.platform.is.mobile===!0?[[_e.value,"touchstart","delayShow","passive"]]:[[_e.value,"mouseenter","delayShow","passive"],[_e.value,"mouseleave","delayHide","passive"]];Ta(ye,"anchor",ne)}function Fe(){if(_e.value!==null||e.scrollTarget!==void 0){q.value=un(_e.value,e.scrollTarget);const ne=e.noParentEvent===!0?Ge:L;C(q.value,ne)}}function ke(){return _.value===!0?i("div",{...d,ref:A,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",d.class],style:[d.style,$.value],role:"tooltip"},Sa(t.default)):null}function Me(){return i(Wt,x.value,ke)}return qa(Ue),Object.assign(D.proxy,{updatePosition:Ge}),Ie}});const Zn=["top","middle","bottom"];var xa=Nt({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Zn.includes(e)}},setup(e,{slots:t}){const a=O(()=>e.align!==void 0?{verticalAlign:e.align}:null),d=O(()=>{const o=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(o!==void 0?` text-${o}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>i("div",{class:d.value,style:a.value,role:"status","aria-label":e.label},on(t.default,e.label!==void 0?[e.label]:[]))}});function Vt(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const a=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const d=e.valueOf();if(Object(d)!==d){const o=new e.constructor(d);return t.set(e,o),o}}return t.set(e,a),e instanceof Set?e.forEach(d=>{a.add(Vt(d,t))}):e instanceof Map&&e.forEach((d,o)=>{a.set(o,Vt(d,t))}),Object.assign(a,...Object.keys(e).map(d=>({[d]:Vt(e[d],t)})))}var Jn=Nt({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:a}){const{proxy:d}=qt(),{$q:o}=d,m=c(null),D=c(""),v=c("");let A=!1;const _=O(()=>sn({initialValue:D.value,validate:e.validate,set:S,cancel:I,updatePosition:E},"value",()=>v.value,w=>{v.value=w}));function S(){e.validate(v.value)!==!1&&(T()===!0&&(a("save",v.value,D.value),a("update:modelValue",v.value)),X())}function I(){T()===!0&&a("cancel",v.value,D.value),X()}function E(){Kt(()=>{m.value.updatePosition()})}function T(){return cn(v.value,D.value)===!1}function X(){A=!0,m.value.hide()}function z(){A=!1,D.value=Vt(e.modelValue),v.value=Vt(e.modelValue),a("beforeShow")}function x(){a("show")}function $(){A===!1&&T()===!0&&(e.autoSave===!0&&e.validate(v.value)===!0?(a("save",v.value,D.value),a("update:modelValue",v.value)):a("cancel",v.value,D.value)),a("beforeHide")}function q(){a("hide")}function C(){const w=t.default!==void 0?[].concat(t.default(_.value)):[];return e.title&&w.unshift(i("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&w.push(i("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[i(ft,{flat:!0,color:e.color,label:e.labelCancel||o.lang.label.cancel,onClick:I}),i(ft,{flat:!0,color:e.color,label:e.labelSet||o.lang.label.set,onClick:S})])),w}return Object.assign(d,{set:S,cancel:I,show(w){m.value!==null&&m.value.show(w)},hide(w){m.value!==null&&m.value.hide(w)},updatePosition:E}),()=>{if(e.disable!==!0)return i(Va,{ref:m,class:"q-popup-edit",cover:e.cover,onBeforeShow:z,onShow:x,onBeforeHide:$,onHide:q,onEscapeKey:I},C)}}});function Ma(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var pn=fn({name:"close-popup",beforeMount(e,{value:t}){const a={depth:Ma(t),handler(d){a.depth!==0&&setTimeout(()=>{const o=vn(e);o!==void 0&&hn(o,d,a.depth)})},handlerKey(d){mn(d,13)===!0&&a.handler(d)}};e.__qclosepopup=a,e.addEventListener("click",a.handler),e.addEventListener("keyup",a.handlerKey)},updated(e,{value:t,oldValue:a}){t!==a&&(e.__qclosepopup.depth=Ma(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function La(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function el(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function tl(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function al(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function $a(e,t,a=0){const d=arguments[3]===void 0?performance.now():arguments[3],o=tl(e);if(a<=0){o!==t&&La(e,t);return}requestAnimationFrame(m=>{const D=m-d,v=o+(t-o)/Math.max(D,a)*D;La(e,v),v!==t&&$a(e,t,a-D,m)})}function Qa(e,t,a=0){const d=arguments[3]===void 0?performance.now():arguments[3],o=al(e);if(a<=0){o!==t&&el(e,t);return}requestAnimationFrame(m=>{const D=m-d,v=o+(t-o)/Math.max(D,a)*D;setHorizontalScroll(e,v),v!==t&&Qa(e,t,a-D,m)})}const Ca={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:Je},intervalMinutes:{type:[Number,String],default:60,validator:Je},intervalStart:{type:[Number,String],default:0,validator:Je},intervalCount:{type:[Number,String],default:24,validator:Je},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},za={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Je},resourceMinHeight:{type:[Number,String],default:70,validator:Je},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},nl={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:Je},dayMinHeight:{type:[Number,String],default:40,validator:Je}},Ua={modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Je},resourceMinHeight:{type:[Number,String],default:70,validator:Je},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:Je},noSticky:Boolean};function sa(e,{weekdaySkips:t,times:a,scrollArea:d,parsedStart:o,parsedEnd:m,maxDays:D,size:v,headerColumnRef:A}){const _=O(()=>parseInt(e.intervalStart,10)),S=O(()=>parseInt(e.intervalMinutes,10)),I=O(()=>parseInt(e.intervalCount,10)),E=O(()=>parseFloat(e.intervalHeight)),T=O(()=>{let h=0;return e.cellWidth?h=e.cellWidth:v.width>0&&A.value&&(h=A.value.offsetWidth/(e.columnCount>1?e.columnCount:D.value)),h}),X=O(()=>_.value*S.value),z=O(()=>I.value*E.value),x=O(()=>I.value*T.value),$=O(()=>_e(o.value)),q=O(()=>Te(m.value)),C=O(()=>wa(o.value,m.value,a.today,t.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,D.value)),w=O(()=>C.value.map(h=>Pn(h,_.value,S.value,I.value,a.now)));function _e(h){return Na(h,e.weekdays,a.today)}function Te(h){return Ka(h,e.weekdays,a.today)}function ye(h,U){return h&&h.length>0&&h.includes(St(U))}function ie(h,U){const V={firstDay:!1,betweenDays:!1,lastDay:!1};if(h&&h.length===2){const J=vt(U),re=vt(we(h[0])),de=vt(we(h[1]));V.firstDay=re===J,V.lastDay=de===J,V.betweenDays=re<J&&de>J}return V}function L(h,U=[],V=[]){const J=ye(U,h),{firstDay:re,lastDay:de,betweenDays:j}=ie(V,h);return{"q-selected":J,"q-range-first":re===!0,"q-range":j===!0,"q-range-last":de===!0,"q-disabled-interval disabled":h.disabled===!0}}function Q(h,U=[],V=[]){return[]}const he=O(()=>{const h={timeZone:"UTC",hour12:!e.hour24Format,hour:"2-digit",minute:"2-digit"},U={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric",minute:"2-digit"},V={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric"};return Da(e.locale,(J,re)=>re?J.minute===0?V:U:h)}),Ie=O(()=>{const h={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return Da(e.locale,U=>h)});function xe(h){const U=w.value[0][0];return!(U.hour===h.hour&&U.minute===h.minute)&&h.minute===0}function Re(h){}function Ue(h){}function Ge(h,U,V=!1,J=void 0){let re=ia(U);const de=h.currentTarget.getBoundingClientRect(),j=h,be=h,Z=j.changedTouches||j.touches,Pe=((Z&&Z[0]?Z[0].clientY:be.clientY)-de.top)/E.value,qe=Math.floor((V?Math.floor(Pe):Pe)*S.value);return qe!==0&&(re=Ne(re,{minute:qe})),J&&ga(re,J,!0),re}function pe(h,U,V=!1,J=void 0){let re=ia(U);const de=h.currentTarget.getBoundingClientRect(),j=h,be=h,Z=j.changedTouches||j.touches,Pe=((Z&&Z[0]?Z[0].clientY:be.clientY)-de.top)/E.value,qe=Math.floor((V?Math.floor(Pe):Pe)*S.value);return qe!==0&&(re=Ne(re,{minute:qe})),J&&ga(re,J,!0),re}function Ke(h,U,V=!1,J=void 0){let re=ia(U);const de=h.currentTarget.getBoundingClientRect(),j=h,be=h,Z=j.changedTouches||j.touches,Pe=((Z&&Z[0]?Z[0].clientX:be.clientX)-de.left)/T.value,qe=Math.floor((V?Math.floor(Pe):Pe)*S.value);return qe!==0&&(re=Ne(re,{minute:qe})),J&&ga(re,J,!0),re}function Xe(h,U){const V={timestamp:h};return V.timeStartPos=le,V.timeDurationHeight=ne,U!==void 0&&(V.columnIndex=U),V}function Fe(h,U){const V={timestamp:ia(h)};return V.timeStartPosX=te,V.timeDurationWidth=ge,U!==void 0&&(V.index=U),V}function ke(h,U=0){const V=le(h);return V===!1||!d.value?!1:($a(d.value,V,U),!0)}function Me(h,U=0){const V=te(h);return V===!1||!d.value?!1:(Qa(d.value,V,U),!0)}function ne(h){return h/S.value*E.value}function ge(h){return h/S.value*T.value}function Le(h){return parseInt(h,10)*S.value/E.value}function fe(h){return parseInt(h,10)*S.value/T.value}function le(h,U=!0){const V=Ct(h);if(V===!1)return!1;const J=X.value,re=I.value*S.value;let j=(V-J)/re*z.value;return U&&(j<0&&(j=0),j>z.value&&(j=z.value)),j}function te(h,U=!0){const V=Ct(h);if(V===!1)return!1;const J=X.value,re=I.value*S.value;let j=(V-J)/re*x.value;return U&&(j<0&&(j=0),j>x.value&&(j=x.value)),j}return{parsedIntervalStart:_,parsedIntervalMinutes:S,parsedIntervalCount:I,parsedIntervalHeight:E,parsedCellWidth:T,parsedStartMinute:X,bodyHeight:z,bodyWidth:x,parsedWeekStart:$,parsedWeekEnd:q,days:C,intervals:w,intervalFormatter:he,ariaDateTimeFormatter:Ie,arrayHasDateTime:ye,checkIntervals:ie,getIntervalClasses:L,getResourceClasses:Q,showIntervalLabelDefault:xe,showResourceLabelDefault:Re,styleDefault:Ue,getTimestampAtEventInterval:Ge,getTimestampAtEvent:pe,getTimestampAtEventX:Ke,getScopeForSlot:Xe,getScopeForSlotX:Fe,scrollToTime:ke,scrollToTimeX:Me,timeDurationHeight:ne,timeDurationWidth:ge,heightToMinutes:Le,widthToMinutes:fe,timeStartPos:le,timeStartPosX:te}}const ca={columnCount:{type:[Number,String],default:0,validator:Je},columnIndexStart:{type:[Number,String],default:0,validator:Je}},na={maxDays:{type:Number,default:1}},la={cellWidth:[Number,String]};function fa(e){return{isSticky:O(()=>e.cellWidth!==void 0)}}var ll=Ht({name:"QCalendarAgenda",directives:[Dt],props:{...xt,...nl,...ca,...na,...Mt,...la,...Lt},emits:["update:model-value",...zt,...Ut,...Ce("-date"),...Ce("-head-day"),...Ce("-time")],setup(e,{slots:t,emit:a,expose:d}){const o=c(null),m=c(null),D=c(null),v=c(null),A=c(null),_=c({}),S=c({}),I=c({}),E=c("next"),T=c(dt()),X=c("0000-00-00"),z=c(0),x=c(e.modelValue),$=$t({width:0,height:0}),q=c(!1),C=c(null),w=c(null);ee(()=>e.view,()=>{z.value=0});const _e=O(()=>e.view==="month"?"month-interval":e.view),Te=qt();if(Te===null)throw new Error("current instance is null");const{emitListeners:ye}=Gt(Te),{isSticky:ie}=fa(e);ee(ie,r=>{});const{times:L,setCurrent:Q,updateCurrent:he}=Xt(e);he(),Q();const{weekdaySkips:Ie,parsedStart:xe,parsedEnd:Re,dayFormatter:Ue,weekdayFormatter:Ge,ariaDateFormatter:pe,dayStyleDefault:Ke,getRelativeClasses:Xe}=Yt(e,{startDate:T,endDate:X,times:L}),Fe=O(()=>ht(e.modelValue,L.now)||xe.value||L.today);A.value=Fe.value,v.value=Fe.value.date;const{renderValues:ke}=jt(e,{parsedView:_e,parsedValue:Fe,times:L}),{rootRef:Me,scrollWidth:ne,__initCalendar:ge,__renderCalendar:Le}=Zt(e,Be,{scrollArea:o,pane:m}),{days:fe,parsedCellWidth:le,getScopeForSlot:te}=sa(e,{weekdaySkips:Ie,times:L,scrollArea:o,parsedStart:xe,parsedEnd:Re,maxDays:z,size:$,headerColumnRef:D}),{move:h}=pt(e,{parsedView:_e,parsedValue:Fe,weekdaySkips:Ie,direction:E,maxDays:z,times:L,emittedValue:x,emit:a}),{getDefaultMouseEventHandlers:U}=ta(a,ye),{checkChange:V}=ea(a,{days:fe,lastStart:C,lastEnd:w}),{isKeyCode:J}=aa(),{tryFocus:re}=Jt(e,{rootRef:Me,focusRef:v,focusValue:A,datesRef:_,days:fe,parsedView:_e,parsedValue:Fe,emittedValue:x,weekdaySkips:Ie,direction:E,times:L}),de=O(()=>fe.value.length+(j.value===!0?e.leftColumnOptions.length:0)+(be.value===!0?e.rightColumnOptions.length:0)+fe.value.length===1&&parseInt(e.columnCount,10)>0?parseInt(e.columnCount,10):0),j=O(()=>e.leftColumnOptions!==void 0&&Array.isArray(e.leftColumnOptions)),be=O(()=>e.rightColumnOptions!==void 0&&Array.isArray(e.rightColumnOptions)),Z=O(()=>{if(Me.value){const r=$.width||Me.value.getBoundingClientRect().width;if(r&&de.value)return(r-ne.value)/de.value+"px"}return 100/de.value+"%"});ee([fe],V,{deep:!0,immediate:!0}),ee(()=>e.modelValue,(r,y)=>{if(x.value!==r){if(e.animated===!0){const l=Ee(we(r)),f=Ee(we(y));E.value=l>=f?"next":"prev"}x.value=r}v.value=r}),ee(x,(r,y)=>{if(x.value!==e.modelValue){if(e.animated===!0){const l=Ee(we(r)),f=Ee(we(y));E.value=l>=f?"next":"prev"}a("update:model-value",r)}}),ee(v,r=>{r&&(A.value=ht(r))}),ee(A,r=>{_.value[v.value]?_.value[v.value].focus():re()}),ee(()=>e.maxDays,r=>{z.value=r}),Qt(()=>{_.value={}}),Ot(()=>{ge()});function Ye(){x.value=dt()}function Pe(r=1){h(r)}function qe(r=1){h(-r)}function nt({width:r,height:y}){$.width=r,$.height=y}function $e(r){return r.date===x.value}function He(r,y){const l=t["head-column"],f={column:r,index:y,days:fe.value},b=ie.value===!0?e.cellWidth:Z.value,s=e.focusable===!0&&e.focusType.includes("weekday"),F=e.columnOptionsId!==void 0?r[e.columnOptionsId]:void 0,K={maxWidth:b,width:b};return i("div",{key:F,tabindex:s===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":s===!0},style:K,onDragenter:n=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(n,"head-column",f)===!0?q.value=F:q.value="")},onDragover:n=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(n,"head-column",f)===!0?q.value=F:q.value="")},onDragleave:n=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(n,"head-column",f)===!0?q.value=F:q.value="")},onDrop:n=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(n,"head-column",f)===!0?q.value=F:q.value="")},...U("-head-column",(n,g)=>({scope:{column:r,index:y},event:n}))},[e.noDefaultHeaderText!==!0&&_t(r),l&&l(f),rt()])}function _t(r){const y=t["head-column-label"],l={column:r},f=e.columnOptionsLabel!==void 0?r[e.columnOptionsLabel]:r.label,b=i("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[y&&y({scope:l}),!y&&i("span",{class:"ellipsis"},f)]);return e.dateHeader==="stacked"?b:i("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[b])}function je(){return i("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":ie.value===!0},style:{marginRight:ne.value+"px"}},[mt()])}function mt(){return i("div",{ref:D,class:{"q-calendar-agenda__head--days__column":!0}},[ot(),ut()])}function ot(){return i("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...st()])}function ut(){const r=t["head-days-events"];return Kt(()=>{if(I.value&&e.columnCount===0&&window)try{const y=window.getComputedStyle(I.value);S.value.parentElement.style.height=y.height,S.value.style.height=y.height}catch{}}),i("div",{class:{"q-calendar-agenda__head--days__event":!0}},[r&&i("div",{ref:S,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[r({scope:{days:fe.value,ref:I}})]),...yt()])}function st(){return fe.value.length===1&&parseInt(e.columnCount,10)>0?[j.value===!0&&e.leftColumnOptions.map((r,y)=>He(r,y)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((r,y)=>y+parseInt(e.columnIndexStart,10)).map(r=>gt(fe.value[0],r)),be.value===!0&&e.rightColumnOptions.map((r,y)=>He(r,y))]:[j.value===!0&&e.leftColumnOptions.map((r,y)=>He(r,y)),fe.value.map(r=>gt(r)),be.value===!0&&e.rightColumnOptions.map((r,y)=>He(r,y))]}function yt(){return fe.value.length===1&&parseInt(e.columnCount,10)>0?[Array.apply(null,new Array(parseInt(e.columnCount,10))).map((r,y)=>y+parseInt(e.columnIndexStart,10)).map(r=>it(fe.value[0],r))]:fe.value.map(r=>it(r))}function gt(r,y){const l=t["head-day"],f=t["head-date"],b=e.noActiveDate!==!0&&$e(r),s=te(r,y);s.activeDate=b,s.droppable=q.value===r.date,s.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1;const F=ie.value===!0?e.cellWidth:Z.value,K=e.weekdayStyle||Ke,n={width:F,maxWidth:F,...K({scope:s})};ie.value===!0&&(n.minWidth=F);const g=typeof e.weekdayClass=="function"?e.weekdayClass({scope:s}):{},H=e.focusable===!0&&e.focusType.includes("weekday"),W={key:r.date+(y!==void 0?"-"+y:""),ref:P=>{_.value[r.date]=P},tabindex:H===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,...g,...Xe(r),"q-active-date":b,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":H===!0},style:n,onDragenter:P=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(P,"head-day",s)===!0?q.value=r.date:q.value="")},onDragover:P=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(P,"head-day",s)===!0?q.value=r.date:q.value="")},onDragleave:P=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(P,"head-day",s)===!0?q.value=r.date:q.value="")},onDrop:P=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(P,"head-day",s)===!0?q.value=r.date:q.value="")},onFocus:P=>{H===!0&&(v.value=r.date)},...U("-head-day",P=>({scope:s,event:P}))};return i("div",W,[l!==void 0&&l({scope:s}),l===void 0&&bt(r),l===void 0&&f&&f({scope:s}),rt()])}function bt(r){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ze(r),e.noDefaultHeaderBtn!==!0&&Oe(r)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ze(r),e.noDefaultHeaderBtn!==!0&&Oe(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ze(r),e.noDefaultHeaderBtn!==!0&&Oe(r)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ze(r),e.noDefaultHeaderBtn!==!0&&Oe(r)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Oe(r),e.noDefaultHeaderText!==!0&&Ze(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Oe(r),e.noDefaultHeaderText!==!0&&Ze(r)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Oe(r),e.noDefaultHeaderText!==!0&&Ze(r)])}function it(r,y){const l=t["head-day-event"],f=e.noActiveDate!==!0&&$e(r),b=te(r,y);b.activeDate=f,b.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1;const s=ie.value===!0?e.cellWidth:Z.value,F={width:s,maxWidth:s};return ie.value===!0&&(F.minWidth=s),i("div",{key:"event-"+r.date+(y!==void 0?"-"+y:""),class:{"q-calendar-agenda__head--day__event":!0,...Xe(r),"q-active-date":f},style:F},[l&&l({scope:b})])}function Ze(r){const y=t["head-weekday-label"],l=te(r);l.shortWeekdayLabel=e.shortWeekdayLabel;const f={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",f,y&&y({scope:l})||ct(r,e.shortWeekdayLabel))}function ct(r,y){const l=Ge.value(r,y||e.weekdayBreakpoints[0]>0&&le.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&le.value<=e.weekdayBreakpoints[1]?da(l,e.minWeekdayLabel):l)}function Oe(r){const y={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",y,wt(r))}function wt(r){const y=e.noActiveDate!==!0&&$e(r),l=Ue.value(r,!1),f=t["head-day-label"],b=t["head-day-button"],s={dayLabel:l,timestamp:r,activeDate:y,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},F={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":r.current===!0,"q-calendar__focusable":!0},disabled:r.disabled,onKeydown:K=>{r.disabled!==!0&&J(K,[13,32])&&(K.stopPropagation(),K.preventDefault())},onKeyup:K=>{r.disabled!==!0&&J(K,[13,32])&&(x.value=r.date,ye.value.onClickDate!==void 0&&a("click-date",{scope:s}))},...U("-date",(K,n)=>((n==="click-date"||n==="contextmenu-date")&&(x.value=r.date,n==="click-date"&&K.preventDefault()),{scope:s,event:K}))};return e.noAria!==!0&&(F.ariaLabel=pe.value(r)),b?b({scope:s}):oa(e,F,f?f({scope:s}):l)}function et(){return i("div",{class:"q-calendar-agenda__body"},[k()])}function k(){return ie.value===!0?i("div",{ref:o,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[ae()]):e.noScroll===!0?p():i("div",{ref:o,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[p()])}function p(){return i("div",{ref:m,class:"q-calendar-agenda__pane"},[ae()])}function ae(){const r=t["day-container"];return i("div",{class:"q-calendar-agenda__day-container"},[ie.value===!0&&e.noHeader!==!0&&je(),i("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...ue()]),r&&r({scope:{days:fe.value}})])}function ue(){return fe.value.length===1&&parseInt(e.columnCount,10)>0?[j.value===!0&&e.leftColumnOptions.map((r,y)=>ve(r,y)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((r,y)=>y+parseInt(e.columnIndexStart,10)).map(r=>ce(fe.value[0],0,r)),be.value===!0&&e.rightColumnOptions.map((r,y)=>ve(r,y))]:[j.value===!0&&e.leftColumnOptions.map((r,y)=>ve(r,y)),fe.value.map((r,y)=>ce(r)),be.value===!0&&e.rightColumnOptions.map((r,y)=>ve(r,y))]}function ve(r,y){const l=t.column,f={column:r,days:fe.value,index:y},b=ie.value===!0?e.cellWidth:Z.value,s=e.focusable===!0&&e.focusType.includes("day"),F=e.columnOptionsId!==void 0?r[e.columnOptionsId]:void 0;return i("div",{key:F,tabindex:s===!0?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":s===!0},style:{maxWidth:b,width:b},onDragenter:K=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(K,"column",f)===!0?q.value=F:q.value="")},onDragover:K=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(K,"column",f)===!0?q.value=F:q.value="")},onDragleave:K=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(K,"column",f)===!0?q.value=F:q.value="")},onDrop:K=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(K,"column",f)===!0?q.value=F:q.value="")},...U("-column",(K,n)=>({scope:f,event:K}))},[l&&l({scope:f})])}function ce(r,y,l){const f=t.day,b=te(r,l),s=ie.value===!0?e.cellWidth:Z.value,F={width:s,maxWidth:s};return ie.value===!0&&(F.minWidth=s),F.height=parseInt(e.dayHeight,10)>0?se(parseInt(e.dayHeight,10)):"auto",parseInt(e.dayMinHeight,10)>0&&(F.minHeight=se(parseInt(e.dayMinHeight,10))),i("div",{key:r.date+(l!==void 0?":"+l:""),class:{"q-calendar-agenda__day":!0,...Xe(r)},style:F},[f&&f({scope:b})])}function Be(){const{start:r,end:y,maxDays:l}=ke.value;(T.value!==r.date||X.value!==y.date||z.value!==l)&&(T.value=r.date,X.value=y.date,z.value=l);const f=$.width>0,b=At(i("div",{class:"q-calendar-agenda",key:T.value},[f===!0&&ie.value!==!0&&e.noHeader!==!0&&je(),f===!0&&et()]),[[Dt,nt]]);if(e.animated===!0){const s="q-calendar--"+(E.value==="prev"?e.transitionPrev:e.transitionNext);return i(Wt,{name:s,appear:!0},()=>b)}return b}return d({prev:qe,next:Pe,move:h,moveToToday:Ye,updateCurrent:he}),()=>Le()}}),ka=Ht({name:"QCalendarDay",directives:[Dt],props:{...xt,...Ca,...ca,...na,...Mt,...la,...Lt},emits:["update:model-value",...zt,...Ut,...Ce("-date"),...Ce("-interval"),...Ce("-head-intervals"),...Ce("-head-day"),...Ce("-time")],setup(e,{slots:t,emit:a,expose:d}){const o=c(null),m=c(null),D=c(null),v=c(null),A=c(null),_=c({}),S=c({}),I=c({}),E=c("next"),T=c(e.modelValue||dt()),X=c("0000-00-00"),z=c(0),x=c(e.modelValue),$=$t({width:0,height:0}),q=c(!1),C=c(!1),w=c(null),_e=c(null);ee(()=>e.view,()=>{z.value=0});const Te=O(()=>e.view==="month"?"month-interval":e.view),ye=qt();if(ye===null)throw new Error("current instance is null");const{emitListeners:ie}=Gt(ye),{isSticky:L}=fa(e),{times:Q,setCurrent:he,updateCurrent:Ie}=Xt(e);Ie(),he();const{weekdaySkips:xe,parsedStart:Re,parsedEnd:Ue,dayFormatter:Ge,weekdayFormatter:pe,ariaDateFormatter:Ke,dayStyleDefault:Xe,getRelativeClasses:Fe}=Yt(e,{startDate:T,endDate:X,times:Q}),ke=O(()=>ht(e.modelValue,Q.now)||Re.value||Q.today);A.value=ke.value,v.value=ke.value.date;const{renderValues:Me}=jt(e,{parsedView:Te,parsedValue:ke,times:Q}),{rootRef:ne,scrollWidth:ge,__initCalendar:Le,__renderCalendar:fe}=Zt(e,at,{scrollArea:o,pane:m}),{days:le,intervals:te,intervalFormatter:h,ariaDateTimeFormatter:U,parsedCellWidth:V,getIntervalClasses:J,showIntervalLabelDefault:re,styleDefault:de,getTimestampAtEventInterval:j,getTimestampAtEvent:be,getScopeForSlot:Z,scrollToTime:Ye,heightToMinutes:Pe,timeDurationHeight:qe,timeStartPos:nt}=sa(e,{weekdaySkips:xe,times:Q,scrollArea:o,parsedStart:Re,parsedEnd:Ue,maxDays:z,size:$,headerColumnRef:D}),{move:$e}=pt(e,{parsedView:Te,parsedValue:ke,weekdaySkips:xe,direction:E,maxDays:z,times:Q,emittedValue:x,emit:a}),{getDefaultMouseEventHandlers:He}=ta(a,ie),{checkChange:_t}=ea(a,{days:le,lastStart:w,lastEnd:_e}),{isKeyCode:je}=aa(),{tryFocus:mt}=Jt(e,{rootRef:ne,focusRef:v,focusValue:A,datesRef:_,days:le,parsedView:Te,parsedValue:ke,emittedValue:x,weekdaySkips:xe,direction:E,times:Q}),ot=O(()=>Te.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):Te.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:le.value.length),ut=O(()=>ne.value?parseInt(getComputedStyle(ne.value).getPropertyValue("--calendar-intervals-width"),10):0),st=O(()=>{if(ne.value){const u=$.width||ne.value.getBoundingClientRect().width;if(u&&ut.value&&ot.value)return(u-ge.value-ut.value)/ot.value+"px"}return 100/ot.value+"%"});ee([le],_t,{deep:!0,immediate:!0}),ee(()=>e.modelValue,(u,R)=>{if(x.value!==e.modelValue){if(e.animated===!0){const B=Ee(we(u)),N=Ee(we(R));E.value=B>=N?"next":"prev"}x.value=u}v.value=u}),ee(x,(u,R)=>{if(x.value!==e.modelValue){if(e.animated===!0){const B=Ee(we(u)),N=Ee(we(R));E.value=B>=N?"next":"prev"}a("update:model-value",u)}}),ee(v,u=>{u&&(A.value=ht(u))}),ee(A,u=>{_.value[v.value]?_.value[v.value].focus():mt()}),ee(()=>e.maxDays,u=>{z.value=u}),Qt(()=>{_.value={},S.value={},I.value={}}),Ot(()=>{Le()});function yt(){x.value=dt()}function gt(u=1){$e(u)}function bt(u=1){$e(-u)}function it({width:u,height:R}){$.width=u,$.height=R}function Ze(u){return u.date===x.value}function ct(){return i("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":L.value===!0},style:{marginRight:ge.value+"px"}},[Oe(),wt()])}function Oe(){const u=t["head-intervals"],R={timestamps:le.value,days:le.value,date:e.modelValue};return i("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":L.value===!0},...He("-head-intervals",B=>({scope:R,event:B}))},[u&&u({scope:R})])}function wt(){return i("div",{ref:D,class:{"q-calendar-day__head--days__column":!0}},[et(),k()])}function et(){return i("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...p()])}function k(){const u=t["head-days-events"];return Kt(()=>{if(I.value&&parseInt(e.columnCount,10)===0&&window)try{const R=window.getComputedStyle(I.value);S.value.parentElement.style.height=R.height,S.value.style.height=R.height}catch{}}),i("div",{class:{"q-calendar-day__head--days__event":!0}},[u&&i("div",{ref:S,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[u({scope:{days:le.value,ref:I}})]),...ae()])}function p(){return le.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,R)=>R+parseInt(e.columnIndexStart,10)).map(u=>ue(le.value[0],u)):le.value.map(u=>ue(u))}function ae(){return le.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,R)=>R+parseInt(e.columnIndexStart,10)).map(u=>ce(le.value[0],u)):le.value.map(u=>ce(u))}function ue(u,R){const B=t["head-day"],N=t["head-date"],G=e.noActiveDate!==!0&&Ze(u),Y=Z(u,R);Y.activeDate=G,Y.droppable=q.value===u.date,Y.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const We=L.value===!0?e.cellWidth:st.value,me=e.weekdayStyle||Xe,Et={width:We,maxWidth:We,minWidth:We,...me({scope:Y})};L.value===!0&&(Et.minWidth=We);const ra=typeof e.weekdayClass=="function"?e.weekdayClass({scope:Y}):{},Bt=e.focusable===!0&&e.focusType.includes("weekday"),Ae=u.date+(R!==void 0?"-"+R:""),It={key:Ae,ref:Qe=>{_.value[Ae]=Qe},tabindex:Bt===!0?0:-1,class:{"q-calendar-day__head--day":!0,...ra,...Fe(u),"q-active-date":G,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Bt===!0},style:Et,onFocus:Qe=>{Bt===!0&&(v.value=Ae)},onKeydown:Qe=>{u.disabled!==!0&&je(Qe,[13,32])&&(Qe.stopPropagation(),Qe.preventDefault())},onKeyup:Qe=>{u.disabled!==!0&&je(Qe,[13,32])&&(x.value=u.date)},...He("-head-day",Qe=>({scope:Y,event:Qe})),onDragenter:Qe=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Qe,"head-day",Y)===!0?q.value=u.date:q.value="")},onDragover:Qe=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Qe,"head-day",Y)===!0?q.value=u.date:q.value="")},onDragleave:Qe=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Qe,"head-day",Y)===!0?q.value=u.date:q.value="")},onDrop:Qe=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Qe,"head-day",Y)===!0?q.value=u.date:q.value="")}};return i("div",It,[B!==void 0&&B({scope:Y}),B===void 0&&f(u,R),B===void 0&&ve(u),B===void 0&&N&&N({scope:Y}),B===void 0&&b(u,R),rt()])}function ve(u){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Be(u),e.noDefaultHeaderBtn!==!0&&y(u)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Be(u),e.noDefaultHeaderBtn!==!0&&y(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Be(u),e.noDefaultHeaderBtn!==!0&&y(u)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Be(u),e.noDefaultHeaderBtn!==!0&&y(u)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&y(u),e.noDefaultHeaderText!==!0&&Be(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&y(u),e.noDefaultHeaderText!==!0&&Be(u)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&y(u),e.noDefaultHeaderText!==!0&&Be(u)])}function ce(u,R){const B=t["head-day-event"],N=e.noActiveDate!==!0&&Ze(u),G=Z(u,R);G.activeDate=N,G.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const Y=L.value===!0?se(V.value):st.value,We={width:Y,maxWidth:Y,minWidth:Y};return L.value===!0&&(We.minWidth=Y),i("div",{key:"event-"+u.date+(R!==void 0?"-"+R:""),class:{"q-calendar-day__head--day__event":!0,...Fe(u),"q-active-date":N},style:We},[B&&B({scope:G})])}function Be(u){const R=t["head-weekday-label"],B=e.shortWeekdayLabel===!0,N=Z(u);N.shortWeekdayLabel=e.shortWeekdayLabel,N.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1;const G={class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",G,R&&R({scope:N})||r(u,B))}function r(u,R){const B=pe.value(u,R||e.weekdayBreakpoints[0]>0&&V.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&V.value<=e.weekdayBreakpoints[1]?da(B,e.minWeekdayLabel):B)}function y(u){const R={class:{"q-calendar-day__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",R,l(u))}function l(u){const R=e.noActiveDate!==!0&&Ze(u),B=Ge.value(u,!1),N=t["head-day-label"],G=t["head-day-button"],Y={dayLabel:B,timestamp:u,activeDate:R,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1},We={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":u.current===!0,"q-calendar__focusable":!0},disabled:u.disabled,onKeydown:me=>{u.disabled!==!0&&je(me,[13,32])&&(me.stopPropagation(),me.preventDefault())},onKeyup:me=>{u.disabled!==!0&&je(me,[13,32])&&(x.value=u.date,ie.value.onClickDate!==void 0&&a("click-date",{scope:Y}))},...He("-date",(me,Et)=>((Et==="click-date"||Et==="contextmenu-date")&&(x.value=u.date,Et==="click-date"&&me.preventDefault()),{scope:Y,event:me}))};return e.noAria!==!0&&(We.ariaLabel=Ke.value(u)),G?G({scope:Y}):oa(e,We,N?N({scope:Y}):B)}function f(u,R){const B=t["column-header-before"];if(B)return i("div",{class:"q-calendar-day__column-header--before"},[B({scope:{timestamp:u,columnIndex:R}})])}function b(u,R){const B=t["column-header-after"];if(B)return i("div",{class:"q-calendar-day__column-header--after"},[B({scope:{timestamp:u,columnIndex:R}})])}function s(){return i("div",{class:"q-calendar-day__body"},[F()])}function F(){return L.value===!0?i("div",{ref:o,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[L.value!==!0&&M(),n()]):e.noScroll===!0?K():i("div",{ref:o,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[K()])}function K(){return i("div",{ref:m,class:"q-calendar-day__pane"},[M(),n()])}function n(){const u=t["day-container"];return i("div",{class:"q-calendar-day__day-container"},[L.value===!0&&e.noHeader!==!0&&ct(),i("div",{style:{display:"flex",flexDirection:"row"}},[L.value===!0&&M(),...g()]),u&&u({scope:{days:le.value}})])}function g(){return le.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((u,R)=>R+parseInt(e.columnIndexStart,10)).map(u=>H(le.value[0],0,u)):le.value.map((u,R)=>H(u,R))}function H(u,R,B){const N=t["day-body"],G=Z(u,B),Y=L.value===!0?e.cellWidth:st.value,We={width:Y,maxWidth:Y,minWidth:Y};return L.value===!0&&(We.minWidth=Y),i("div",{key:u.date+(B!==void 0?":"+B:""),class:{"q-calendar-day__day":!0,...Fe(u)},style:We},[...W(R,B),N&&N({scope:G})])}function W(u,R){return te.value[u].map(B=>P(B,R))}function P(u,R){const B=se(e.intervalHeight),N=e.intervalStyle||de,G=t["day-interval"],Y=Z(u,R);Y.droppable=C.value===vt(u);const We=typeof e.intervalClass=="function"?e.intervalClass({scope:Y}):{},me=e.focusable===!0&&e.focusType.includes("interval"),ra={key:St(u),tabindex:me===!0?0:-1,class:{"q-calendar-day__day-interval":u.minute===0,"q-calendar-day__day-interval--section":u.minute!==0,...We,...J(u,e.selectedDates,e.selectedStartEndDates),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":me===!0},style:{height:B,...N({scope:Y})},onDragenter:Ae=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Ae,"interval",Y)===!0?C.value=vt(u):C.value="")},onDragover:Ae=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Ae,"interval",Y)===!0?C.value=vt(u):C.value="")},onDragleave:Ae=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Ae,"interval",Y)===!0?C.value=vt(u):C.value="")},onDrop:Ae=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Ae,"interval",Y)===!0?C.value=vt(u):C.value="")},onKeydown:Ae=>{je(Ae,[13,32])&&(Ae.stopPropagation(),Ae.preventDefault())},onKeyup:Ae=>{if(je(Ae,[13,32])){const It=Z(u,R);x.value=It.timestamp.date,ie.value.onClickTime!==void 0&&a("click-time",{scope:It,event:Ae})}},...He("-time",Ae=>({scope:Z(j(Ae,u,e.timeClicksClamped,Q.now),R),event:Ae}))};e.noAria!==!0&&(ra.ariaLabel=U.value(u));const Bt=G?G({scope:Y}):void 0;return i("div",ra,[Bt,rt()])}function M(){const u={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":L.value===!0},...He("-interval",R=>({scope:{timestamp:be(R,Re.value,e.timeClicksClamped,Q.now)},event:R}))};return i("div",u,Se())}function Se(){return te.value[0].map(u=>oe(u))}function oe(u){const R=t["interval-label"],B=se(e.intervalHeight),N=e.shortIntervalLabel,We=(e.showIntervalLabel||re)(u)?h.value(u,N):void 0;return i("div",{key:u.time,class:{"q-calendar-day__interval":u.minute===0,"q-calendar-day__interval--section":u.minute!==0},style:{height:B}},[i("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[R?R({scope:{timestamp:u,label:We}}):We])])}function at(){const{start:u,end:R,maxDays:B}=Me.value;(T.value!==u.date||X.value!==R.date||z.value!==B)&&(T.value=u.date,X.value=R.date,z.value=B);const N=$.width>0,G=At(i("div",{key:T.value,class:"q-calendar-day"},[N===!0&&L.value!==!0&&e.noHeader!==!0&&ct(),N&&s()]),[[Dt,it]]);if(e.animated===!0){const Y="q-calendar--"+(E.value==="prev"?e.transitionPrev:e.transitionNext);return i(Wt,{name:Y,appear:!0},()=>G)}return G}return d({prev:bt,next:gt,move:$e,moveToToday:yt,updateCurrent:Ie,timeStartPos:nt,timeDurationHeight:qe,heightToMinutes:Pe,scrollToTime:Ye}),()=>fe()}});const Ga={dayHeight:{type:[Number,String],default:0,validator:Je},dayMinHeight:{type:[Number,String],default:0,validator:Je},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayPadding:String,minWeeks:{type:[Number,String],validator:Je,default:1},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||Je(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function rl(e,t,{weekdaySkips:a,times:d,parsedStart:o,parsedEnd:m,size:D,headerColumnRef:v}){const A=O(()=>parseInt(e.minWeeks,10)),_=O(()=>A.value*e.weekdays.length),S=O(()=>w(Te(o.value))),I=O(()=>_e(ye(m.value))),E=O(()=>{let L=0;return e.cellWidth?L=e.cellWidth:D.width>0&&v.value&&(L=v.value.offsetWidth/e.weekdays.length),L}),T=O(()=>wa(S.value,I.value,d.today,a.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER,_.value)),X=O(()=>{const L=d.today,Q=w(L),he=_e(L);return wa(Q,he,L,a,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,e.weekdays.length,e.weekdays.length)}),z=O(()=>{const L={timeZone:"UTC",month:"long"},Q={timeZone:"UTC",month:"short"};return Da(e.locale,(he,Ie)=>Ie?Q:L)}),x=O(()=>{switch(e.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(e.breakpoint,10)}}),$=O(()=>{switch(e.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return e.monthLabelSize}});let q=!0;const C=O(()=>{const L=e.miniMode===!0||e.miniMode==="auto"&&e.breakpoint!==void 0&&D.width<x.value;return q===!0&&(q=!1,t("mini-mode",L)),L});ee(C,L=>{t("mini-mode",L)});function w(L){return Na(L,e.weekdays,d.today)}function _e(L){return Ka(L,e.weekdays,d.today)}function Te(L){return Vn(L)}function ye(L){return Nn(L)}function ie(L){const Q=Ee(L);return Q<Ee(o.value)||Q>Ee(m.value)}return{parsedCellWidth:E,parsedMinWeeks:A,parsedMinDays:_,parsedMonthStart:S,parsedMonthEnd:I,parsedBreakpoint:x,parsedMonthLabelSize:$,days:T,todayWeek:X,isMiniMode:C,monthFormatter:z,isOutside:ie}}var ul=Ht({name:"QCalendarMonth",directives:[Dt],props:{...xt,...Ga,...Mt,...la,...Lt},emits:["update:model-value",...zt,...Ut,"mini-mode",...Ce("-date"),...Ce("-day"),...Ce("-head-workweek"),...Ce("-head-day"),...Ce("-workweek")],setup(e,{slots:t,emit:a,expose:d}){const o=c(null),m=c(null),D=c(null),v=c(null),A=c(null),_=c({}),S=c([]),I=c([]),E=c("next"),T=c(e.modelValue||dt()),X=c("0000-00-00"),z=c(0),x=c(e.modelValue),$=$t({width:0,height:0}),q=c(!1),C=c(!1),w=c(null),_e=c(null),Te=O(()=>"month"),ye=qt();if(ye===null)throw new Error("current instance is null");const{emitListeners:ie}=Gt(ye),{isSticky:L}=fa(e);ee(L,l=>{});const{times:Q,setCurrent:he,updateCurrent:Ie}=Xt(e);Ie(),he();const{weekdaySkips:xe,parsedStart:Re,parsedEnd:Ue,dayFormatter:Ge,weekdayFormatter:pe,ariaDateFormatter:Ke,dayStyleDefault:Xe,getRelativeClasses:Fe}=Yt(e,{startDate:T,endDate:X,times:Q}),ke=O(()=>ht(e.modelValue,Q.now)||Re.value||Q.today);A.value=ke.value,v.value=ke.value.date;const Me=O(()=>{const l={};return e.dayPadding!==void 0&&(l.padding=e.dayPadding),l.minWidth=nt.value,l.maxWidth=nt.value,l.width=nt.value,l}),{renderValues:ne}=jt(e,{parsedView:Te,times:Q,parsedValue:ke}),{rootRef:ge,__initCalendar:Le,__renderCalendar:fe}=Zt(e,y,{scrollArea:o,pane:m}),{days:le,todayWeek:te,isMiniMode:h,parsedCellWidth:U,parsedMonthLabelSize:V,isOutside:J,monthFormatter:re}=rl(e,a,{weekdaySkips:xe,times:Q,parsedStart:Re,parsedEnd:Ue,size:$,headerColumnRef:D}),{move:de}=pt(e,{parsedView:Te,parsedValue:ke,weekdaySkips:xe,direction:E,maxDays:z,times:Q,emittedValue:x,emit:a}),{getDefaultMouseEventHandlers:j}=ta(a,ie),{checkChange:be}=ea(a,{days:le,lastStart:w,lastEnd:_e}),{isKeyCode:Z}=aa(),{tryFocus:Ye}=Jt(e,{rootRef:ge,focusRef:v,focusValue:A,datesRef:_,days:le,parsedView:Te,parsedValue:ke,emittedValue:x,weekdaySkips:xe,direction:E,times:Q}),Pe=O(()=>ge.value&&e.showWorkWeeks===!0?parseInt(getComputedStyle(ge.value).getPropertyValue(h.value===!0?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0),qe=O(()=>e.weekdays.length),nt=O(()=>{if(ge.value){const l=$.width||ge.value.getBoundingClientRect().width;if(l&&qe.value)return(l-Pe.value)/qe.value+"px"}return 100/qe.value+"%"}),$e=O(()=>e.focusable===!0&&e.focusType.includes("day")&&h.value!==!0),He=O(()=>e.focusable===!0&&e.focusType.includes("date")&&$e.value!==!0);ee([le],be,{deep:!0,immediate:!0}),ee(()=>e.modelValue,(l,f)=>{if(x.value!==l){if(e.animated===!0){const b=Ee(we(l)),s=Ee(we(f));E.value=b>=s?"next":"prev"}x.value=l}v.value=l}),ee(x,(l,f)=>{if(x.value!==e.modelValue){if(e.animated===!0){const b=Ee(we(l)),s=Ee(we(f));E.value=b>=s?"next":"prev"}a("update:model-value",l)}}),ee(v,l=>{l&&(A.value=ht(l),x.value!==l&&(x.value=l))}),ee(A,l=>{_.value[v.value]?_.value[v.value].focus():Ye()}),Qt(()=>{_.value={},S.value=[],I.value=[],Kt(()=>{yt()})}),Ot(()=>{Le(),yt()});function _t(){x.value=dt()}function je(l=1){de(l)}function mt(l=1){de(-l)}function ot({width:l,height:f}){$.width=l,$.height=f}function ut(l){return l.date===x.value}function st(l){for(let f=0;f<l.length;++f)if(l[f].current===!0)return{timestamp:l[f]};return{timestamp:!1}}function yt(){if(!(h.value===!0||e.dayHeight!==0||t.week===void 0)&&window)for(const f in S.value){const b=S.value[f];if(b===void 0)continue;const s=I.value[f];if(s===void 0)continue;const F=window.getComputedStyle(b),K=parseFloat(F.marginTop,10)+parseFloat(F.marginBottom,10);b.clientHeight+K>s.clientHeight&&(s.style.height=b.clientHeight+K+"px")}}function gt(){return i("div",{class:"q-calendar-month__body"},[...k()])}function bt(){return i("div",{role:"presentation",class:"q-calendar-month__head"},[e.showWorkWeeks===!0&&Ze(),i("div",{class:"q-calendar-month__head--wrapper"},[it()])])}function it(){return i("div",{ref:D,class:{"q-calendar-month__head--weekdays":!0}},[...ct()])}function Ze(){const l=t["head-workweek"],f={start:Re.value,end:Ue.value,miniMode:h.value};return i("div",{class:"q-calendar-month__head--workweek",...j("-head-workweek",b=>({scope:f,event:b}))},l?l({scope:f}):"#")}function ct(){return te.value.map((l,f)=>Oe(l,f))}function Oe(l,f){const b=t["head-day"],s=le.value.filter(oe=>oe.weekday===l.weekday),F=s[0].weekday,n={activeDate:e.noActiveDate!==!0&&ut(l),weekday:F,timestamp:l,days:s,index:f,miniMode:h.value,droppable:q.value===l.weekday,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},g=typeof e.weekdayClass=="function"?e.weekdayClass({scope:n}):{},H=e.focusable===!0&&e.focusType.includes("weekday"),W=nt.value,P=e.weekdayStyle||Xe,M={width:W,maxWidth:W,minWidth:W,...P({scope:n})},Se={key:l.date+(f!==void 0?"-"+f:""),tabindex:H===!0?0:-1,class:{"q-calendar-month__head--weekday":!0,...g,"q-disabled-day disabled":n.disabled===!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":H===!0},style:M,onDragenter:oe=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(oe,"head-day",n)===!0?q.value=l.weekday:q.value="")},onDragover:oe=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(oe,"head-day",n)===!0?q.value=l.weekday:q.value="")},onDragleave:oe=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(oe,"head-day",n)===!0?q.value=l.weekday:q.value="")},onDrop:oe=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(oe,"head-day",n)===!0?q.value=l.weekday:q.value="")},onFocus:oe=>{H===!0&&(v.value=l.date)},...j("-head-day",oe=>({scope:n,event:oe}))};return e.noAria!==!0&&(Se.ariaLabel=pe.value(l,!1)),i("div",Se,[b===void 0&&et(l,e.shortWeekdayLabel||h.value),b!==void 0&&b({scope:n}),wt(l,f),H===!0&&rt()])}function wt(l,f){const b=t["head-day-event"],s=e.noActiveDate!==!0&&ut(l),F=le.value.filter(P=>P.weekday===l.weekday),n={weekday:F[0].weekday,timestamp:l,days:F,index:f,miniMode:h.value,activeDate:s,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},g=nt.value,H=e.weekdayStyle||Xe,W={width:g,maxWidth:g,minWidth:g,...H({scope:n})};return i("div",{key:"event-"+l.date+(f!==void 0?"-"+f:""),class:{"q-calendar-month__head--event":!0},style:W},[b!==void 0&&b({scope:n})])}function et(l,f){const b=pe.value(l,f||e.weekdayBreakpoints[0]>0&&U.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar__ellipsis"},h.value===!0&&e.shortWeekdayLabel===!0||e.weekdayBreakpoints[1]>0&&U.value<=e.weekdayBreakpoints[1]?da(b,e.minWeekdayLabel):b)}function k(){const l=e.weekdays.length,f=[];for(let b=0;b<le.value.length;b+=l)f.push(p(le.value.slice(b,b+l),b/l));return f}function p(l,f){const b=t.week,s=e.weekdays,F={week:l,weekdays:s,miniMode:h.value},K={};K.height=e.dayHeight>0&&h.value!==!0?se(parseInt(e.dayHeight,10)):"auto",e.dayMinHeight>0&&h.value!==!0&&(K.minHeight=se(parseInt(e.dayMinHeight,10)));const n=parseInt(e.dayHeight,10)===0&&parseInt(e.dayMinHeight,10)===0;return i("div",{key:l[0].date,ref:g=>{I.value[f]=g},class:{"q-calendar-month__week--wrapper":!0,"q-calendar-month__week--auto-height":n},style:K},[e.showWorkWeeks===!0?ae(l):void 0,i("div",{class:"q-calendar-month__week"},[i("div",{class:"q-calendar-month__week--days"},l.map((g,H)=>ue(g))),h.value!==!0&&b!==void 0?i("div",{ref:g=>{S.value[f]=g},class:"q-calendar-month__week--events"},b({scope:F})):void 0])])}function ae(l){const f=t.workweek,b=l.length>2?l[2]:l[0],{timestamp:s}=st(l),F=Number(b.workweek).toLocaleString(e.locale),K={workweekLabel:F,week:l,miniMode:h.value};return i("div",{key:b.workweek,class:{"q-calendar-month__workweek":!0,...Fe(s!==!1?s:b,!1)},...j("-workweek",n=>({scope:K,event:n}))},f?f({scope:K}):F)}function ue(l){const f=t.day,b=e.dayStyle||Xe,s=J(l),F=e.noActiveDate!==!0&&ke.value.date===l.date,K=s===!1&&e.showMonthLabel===!0&&le.value.find(M=>M.month===l.month).day===l.day,n={outside:s,timestamp:l,miniMode:h.value,activeDate:F,hasMonth:K,droppable:C.value===l.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},g=Object.assign({...Me.value},b({scope:n})),H=typeof e.dayClass=="function"?e.dayClass({scope:n}):{},W={key:l.date,ref:M=>{$e.value===!0&&(_.value[l.date]=M)},tabindex:$e.value===!0?0:-1,class:{"q-calendar-month__day":!0,...H,...Fe(l,s,e.selectedDates,e.selectedStartEndDates,e.hover),"q-active-date":F===!0,disabled:e.enableOutsideDays!==!0&&s===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":$e.value===!0},style:g,onFocus:M=>{$e.value===!0&&(v.value=l.date)},onKeydown:M=>{s!==!0&&l.disabled!==!0&&Z(M,[13,32])&&(M.stopPropagation(),M.preventDefault())},onKeyup:M=>{s!==!0&&l.disabled!==!0&&Z(M,[13,32])&&(M.stopPropagation(),M.preventDefault(),ie.value.onClickDay!==void 0&&h.value!==!0&&a("click-day",{scope:n,event:M}))},...j("-day",M=>({scope:n,event:M}))};return s!==!0&&Object.assign(W,{onDragenter:M=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(M,"day",n)===!0?C.value=l.date:C.value="")},onDragover:M=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(M,"day",n)===!0?C.value=l.date:C.value="")},onDragleave:M=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(M,"day",n)===!0?C.value=l.date:C.value="")},onDrop:M=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(M,"day",n)===!0?C.value=l.date:C.value="")}}),e.noAria!==!0&&(W.ariaLabel=Ke.value(l)),i("div",W,[ve(l,s,K),i("div",{class:{"q-calendar-month__day--content":!0}},f?f({scope:n}):void 0),$e.value===!0&&rt()])}function ve(l,f,b){let s,F;const K=[ce(l,f)];h.value!==!0&&b===!0&&$.width>340&&(F=r(l,f)),h.value!==!0&&e.showDayOfYearLabel===!0&&F===void 0&&$.width>300&&(s=Be(l,f)),e.dateAlign==="left"?(s!==void 0&&K.push(s),F!==void 0&&K.push(F)):e.dateAlign==="right"?(s!==void 0&&K.unshift(s),F!==void 0&&K.unshift(F)):(s=void 0,F=void 0);const n={class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+e.dateAlign]:s===void 0&&F===void 0,"q-calendar__justify":s!==void 0||F!==void 0}};return i("div",n,K)}function ce(l,f){if(f===!0&&e.noOutsideDays===!0)return;const b=Ge.value(l,!1),s=t["head-day-label"],F=t["head-day-button"],K=e.selectedDates&&e.selectedDates.length>0&&e.selectedDates.includes(l.date),n=e.noActiveDate!==!0&&ut(l),g={dayLabel:b,timestamp:l,outside:f,activeDate:n,selectedDate:K,miniMode:h.value,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},H={key:l.date,ref:W=>{He.value===!0&&(_.value[l.date]=W)},tabindex:He.value===!0?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":l.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":He.value===!0},disabled:l.disabled===!0||e.enableOutsideDays!==!0&&f===!0,onFocus:W=>{He.value===!0&&(v.value=l.date)},onKeydown:W=>{f!==!0&&l.disabled!==!0&&Z(W,[13,32])&&(W.stopPropagation(),W.preventDefault())},onKeyup:W=>{He.value===!0&&f!==!0&&l.disabled!==!0&&Z(W,[13,32])&&(W.stopPropagation(),W.preventDefault(),x.value=l.date,ie.value.onClickDate!==void 0&&a("click-date",{scope:g,event:W}))},...j("-date",(W,P)=>(W.stopPropagation(),(P==="click-date"||P==="contextmenu-date")&&(x.value=l.date),{scope:g,event:W}))};return e.noAria!==!0&&(H.ariaLabel=Ke.value(l)),[F?F({scope:g}):oa(e,H,s?s({scope:g}):b),He.value===!0&&rt()]}function Be(l,f){if(f===!0&&e.noOutsideDays===!0)return;const b=t["day-of-year"];return i("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},b?b({scope:{timestamp:l}}):l.doy)}function r(l,f){if(f===!0&&e.noOutsideDays===!0)return;const b=t["month-label"],s=re.value(l,e.shortMonthLabel||$.width<500),F={monthLabel:s,timestamp:l,miniMode:h.value},K={};return h.value!==!0&&V.value!==void 0&&(K.fontSize=V.value),i("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:K},[b?b({scope:F}):h.value!==!0?s:void 0])}function y(){const{start:l,end:f}=ne.value;T.value=l.date,X.value=f.date;const b=$.width>0,s=At(i("div",{class:{"q-calendar-mini":h.value===!0,"q-calendar-month":!0},key:T.value},[b===!0&&e.noHeader!==!0&&bt(),b===!0&&gt()]),[[Dt,ot]]);if(e.animated===!0){const F="q-calendar--"+(E.value==="prev"?e.transitionPrev:e.transitionNext);return i(Wt,{name:F,appear:!0},()=>s)}return s}return d({prev:mt,next:je,move:de,moveToToday:_t,updateCurrent:Ie}),()=>fe()}}),il=Ht({name:"QCalendarResource",props:{...xt,...Ua,...Ca,...ca,...na,...Mt,...Lt},emits:["update:model-value","update:model-resources","resource-expanded",...zt,...Ut,...Ce("-date"),...Ce("-interval"),...Ce("-head-day"),...Ce("-time"),...Ce("-head-resources"),...Ce("-resource")],setup(e,{slots:t,emit:a,expose:d}){const o=c(null),m=c(null),D=c(null),v=c(null),A=c(null),_=c(null),S=c({}),I=c({}),E=c("next"),T=c(dt()),X=c("0000-00-00"),z=c(0),x=c(e.modelValue),$=$t({width:0,height:0}),q=c(!1),C=c(!1),w=c(!1),_e=c(null),Te=c(null);ee(()=>e.view,()=>{z.value=0});const ye=O(()=>e.view==="month"?"month-interval":e.view),ie=O(()=>parseInt(e.cellWidth,10)),L=qt();if(L===null)throw new Error("current instance is null");const{emitListeners:Q}=Gt(L),{times:he,setCurrent:Ie,updateCurrent:xe}=Xt(e);xe(),Ie();const{weekdaySkips:Re,parsedStart:Ue,parsedEnd:Ge,dayStyleDefault:pe}=Yt(e,{startDate:T,endDate:X,times:he}),Ke=O(()=>ht(e.modelValue,he.now)||Ue.value||he.today);_.value=Ke.value,A.value=Ke.value.date;const{renderValues:Xe}=jt(e,{parsedView:ye,times:he,parsedValue:Ke}),{rootRef:Fe,__initCalendar:ke,__renderCalendar:Me}=Zt(e,et,{scrollArea:o,pane:m}),{days:ne,intervals:ge,intervalFormatter:Le,styleDefault:fe,scrollToTimeX:le,timeDurationWidth:te,timeStartPosX:h,widthToMinutes:U}=sa(e,{weekdaySkips:Re,times:he,scrollArea:o,parsedStart:Ue,parsedEnd:Ge,maxDays:z,size:$,headerColumnRef:v}),{move:V}=pt(e,{parsedView:ye,parsedValue:Ke,weekdaySkips:Re,direction:E,maxDays:z,times:he,emittedValue:x,emit:a}),{getDefaultMouseEventHandlers:J}=ta(a,Q),{checkChange:re}=ea(a,{days:ne,lastStart:_e,lastEnd:Te}),{isKeyCode:de}=aa(),{tryFocus:j}=Jt(e,{rootRef:Fe,focusRef:A,focusValue:_,datesRef:S,days:ne,parsedView:ye,parsedValue:Ke,emittedValue:x,weekdaySkips:Re,direction:E,times:he}),be=O(()=>{const k=parseInt(e.resourceHeight,10);return k===0?"auto":k}),Z=O(()=>parseInt(e.resourceMinHeight,10)),Ye=O(()=>parseInt(e.intervalHeaderHeight,10));ee([ne],re,{deep:!0,immediate:!0}),ee(()=>e.modelValue,(k,p)=>{if(x.value!==k){if(e.animated===!0){const ae=Ee(we(k)),ue=Ee(we(p));E.value=ae>=ue?"next":"prev"}x.value=k}A.value=k}),ee(x,(k,p)=>{if(x.value!==e.modelValue){if(e.animated===!0){const ae=Ee(we(k)),ue=Ee(we(p));E.value=ae>=ue?"next":"prev"}a("update:model-value",k)}}),ee(A,k=>{k&&(_.value=ht(k))}),ee(_,k=>{S.value[A.value]?S.value[A.value].focus():j()}),Qt(()=>{S.value={},I.value={}}),Ot(()=>{ke()});function Pe(){x.value=dt()}function qe(k=1){V(k)}function nt(k=1){V(-k)}function $e({width:k,height:p}){$.width=k,$.height=p}function He(k){return k.date===x.value}function _t(){const k={height:se(Ye.value)};return i("div",{ref:D,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":e.noSticky!==!0},style:k},[je(),mt()])}function je(){const k=t["head-resources"],p=se(Ye.value),ae={timestamps:ge,date:e.modelValue,resources:e.modelResources};return i("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":e.noSticky!==!0},style:{height:p},...J("-head-resources",ue=>({scope:ae,event:ue}))},[k&&k({scope:ae})])}function mt(){return i("div",{ref:v,class:{"q-calendar-resource__head--intervals":!0}},[ge.value.map(k=>k.map((p,ae)=>ot(p,ae)))])}function ot(k,p){const ae=t["interval-label"],ue=e.noActiveDate!==!0&&He(k),ve=se(ie.value),ce=se(Ye.value),Be=e.shortIntervalLabel,r=Le.value(k,Be),y={timestamp:k,index:p,label:r};y.droppable=q.value===r;const l=e.intervalStyle||pe,f={width:ve,maxWidth:ve,minWidth:ve,height:ce,...l({scope:y})},b=typeof e.intervalClass=="function"?e.intervalClass({scope:y}):{},s=e.focusable===!0&&e.focusType.includes("interval");return i("div",{key:r,tabindex:s===!0?0:-1,class:{"q-calendar-resource__head--interval":!0,...b,"q-active-date":ue,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":s===!0},style:f,onDragenter:F=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(F,"interval",y)===!0?q.value=r:q.value="")},onDragover:F=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(F,"interval",y)===!0?q.value=r:q.value="")},onDragleave:F=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(F,"interval",y)===!0?q.value=r:q.value="")},onDrop:F=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(F,"interval",y)===!0?q.value=r:q.value="")},onFocus:F=>{s===!0&&(A.value=r)},...J("-interval",F=>({scope:y,event:F}))},[ae?ae({scope:y}):r,rt()])}function ut(){return i("div",{class:"q-calendar-resource__body"},[st()])}function st(){return i("div",{ref:o,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[gt()])}function yt(){return i("div",{},"No resources have been defined")}function gt(){return i("div",{class:"q-calendar-resource__day--container"},[_t(),e.modelResources===void 0&&yt(),e.modelResources!==void 0&&bt()])}function bt(){return i("div",{class:"q-calendar-resource__resources--body"},it())}function it(k=void 0,p=0,ae=!0){return k===void 0&&(k=e.modelResources),k.map((ue,ve)=>Ze(ue,ve,p,ue.children!==void 0?ue.expanded:ae))}function Ze(k,p,ae=0,ue=!0){const ve={};ve.height=be.value==="auto"?be.value:se(be.value),Z.value>0&&(ve.minHeight=se(Z.value));const ce=i("div",{key:k[e.resourceKey]+"-"+p,class:{"q-calendar-resource__resource--row":!0},style:ve},[ct(k,p,ae,ue),Oe(k,p)]);return k.children!==void 0?[ce,i("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":ue===!0,"q-calendar__child--collapsed":ue!==!0}},[it(k.children,ae+1,ue===!1?ue:k.expanded)])]:[ce]}function ct(k,p,ae=0,ue=!0){const ve=t["resource-label"],ce={};ce.height=k.height!==void 0?se(parseInt(k.height,10)):be.value?se(be.value):"auto",Z.value>0&&(ce.minHeight=se(Z.value));const Be=e.resourceStyle||fe,r=k[e.resourceLabel],y=e.focusable===!0&&e.focusType.includes("resource")&&ue===!0,l={resource:k,timestamps:ge,resourceIndex:p,indentLevel:ae,label:r},f=k[e.resourceKey];l.droppable=C.value===f;const b=typeof e.resourceClass=="function"?e.resourceClass({scope:l}):{};return i("div",{key:k[e.resourceKey]+"-"+p,ref:s=>{I.value[k[e.resourceKey]]=s},tabindex:y===!0?0:-1,class:{"q-calendar-resource__resource":ae===0,"q-calendar-resource__resource--section":ae!==0,...b,"q-calendar__sticky":e.noSticky!==!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":y===!0},style:{...ce,...Be({scope:l})},onDragenter:s=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(s,"resource",l)===!0?C.value=f:C.value="")},onDragover:s=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(s,"resource",l)===!0?C.value=f:C.value="")},onDragleave:s=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(s,"resource",l)===!0?C.value=f:C.value="")},onDrop:s=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(s,"resource",l)===!0?C.value=f:C.value="")},onKeydown:s=>{de(s,[13,32])&&(s.stopPropagation(),s.preventDefault())},onKeyup:s=>{de(s,[13,32])&&Q.value.onClickResource!==void 0&&a("click-resource",{scope:l,event:s})},...J("-resource",s=>({scope:l,event:s}))},[[i("div",{class:{"q-calendar__parent":k.children!==void 0,"q-calendar__parent--expanded":k.children!==void 0&&k.expanded===!0,"q-calendar__parent--collapsed":k.children!==void 0&&k.expanded!==!0},onClick:s=>{s.stopPropagation(),k.expanded=!k.expanded,a("resource-expanded",{expanded:k.expanded,scope:l})}}),i("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*ae+2+"px"}},[ve?ve({scope:l}):r]),rt()]])}function Oe(k,p){const ae=t["resource-intervals"],ue={resource:k,timestamps:ge,resourceIndex:p,timeStartPosX:h,timeDurationWidth:te};return i("div",{class:"q-calendar-resource__resource--intervals"},[ge.value.map(ve=>ve.map(ce=>wt(k,ce,p))),ae&&ae({scope:ue})])}function wt(k,p,ae){const ue=t["resource-interval"],ve=e.noActiveDate!==!0&&He(p),ce={activeDate:ve,resource:k,timestamp:p,resourceIndex:ae},Be=k[e.resourceKey],r=p.time+"-"+Be;ce.droppable=w.value===r;const y=e.focusable===!0&&e.focusType.includes("time"),l=e.intervalStyle||pe,f=se(ie.value),b={width:f,maxWidth:f,minWidth:f,...l({scope:ce})};return b.height=k.height!==void 0?se(parseInt(k.height,10)):be.value>0?se(be.value):"auto",Z.value>0&&(b.minHeight=se(Z.value)),i("div",{key:r,ref:s=>{S.value[k[e.resourceKey]]=s},tabindex:y===!0?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":ve,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":y===!0},style:b,onDragenter:s=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(s,"time",ce)===!0?w.value=r:w.value="")},onDragover:s=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(s,"time",ce)===!0?w.value=r:w.value="")},onDragleave:s=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(s,"time",ce)===!0?w.value=r:w.value="")},onDrop:s=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(s,"time",ce)===!0?w.value=r:w.value="")},onFocus:s=>{y===!0&&(A.value=r)},...J("-time",s=>({scope:ce,event:s}))},[ue&&ue({scope:ce}),rt()])}function et(){const{start:k,end:p,maxDays:ae}=Xe.value;(T.value!==k.date||X.value!==p.date||z.value!==ae)&&(T.value=k.date,X.value=p.date,z.value=ae);const ue=$.width>0,ve=At(i("div",{class:"q-calendar-resource",key:T.value},[ue===!0&&ut()]),[[Dt,$e]]);if(e.animated===!0){const ce="q-calendar--"+(E.value==="prev"?e.transitionPrev:e.transitionNext);return i(Wt,{name:ce,appear:!0},()=>ve)}return ve}return d({prev:nt,next:qe,move:V,moveToToday:Pe,updateCurrent:xe,timeStartPosX:h,timeDurationWidth:te,widthToMinutes:U,scrollToTimeX:le}),()=>Me()}}),dl=Ht({name:"QCalendarScheduler",directives:[Dt],props:{...xt,...za,...ca,...na,...Mt,...la,...Lt},emits:["update:model-value","update:model-resources","resource-expanded",...zt,...Ut,...Ce("-date"),...Ce("-day-resource"),...Ce("-head-resources"),...Ce("-head-day"),...Ce("-resource")],setup(e,{slots:t,emit:a,expose:d}){const o=c(null),m=c(null),D=c(null),v=c(null),A=c(null),_=c({}),S=c({}),I=c({}),E=c({}),T=c("next"),X=c(e.modelValue||dt()),z=c("0000-00-00"),x=c(0),$=c(e.modelValue),q=$t({width:0,height:0}),C=c(!1),w=c(!1),_e=c(null),Te=c(null);ee(()=>e.view,()=>{x.value=0});const ye=O(()=>e.view==="month"?"month-interval":e.view),ie=qt();if(ie===null)throw new Error("current instance is null");const{emitListeners:L}=Gt(ie),{isSticky:Q}=fa(e),{times:he,setCurrent:Ie,updateCurrent:xe}=Xt(e);xe(),Ie();const{weekdaySkips:Re,parsedStart:Ue,parsedEnd:Ge,dayFormatter:pe,weekdayFormatter:Ke,ariaDateFormatter:Xe,dayStyleDefault:Fe,getRelativeClasses:ke}=Yt(e,{startDate:X,endDate:z,times:he}),Me=O(()=>ht(e.modelValue,he.now)||Ue.value||he.today);A.value=Me.value,v.value=Me.value.date;const{renderValues:ne}=jt(e,{parsedView:ye,parsedValue:Me,times:he}),{rootRef:ge,scrollWidth:Le,__initCalendar:fe,__renderCalendar:le}=Zt(e,K,{scrollArea:o,pane:m}),{days:te,parsedCellWidth:h,styleDefault:U}=sa(e,{weekdaySkips:Re,times:he,scrollArea:o,parsedStart:Ue,parsedEnd:Ge,maxDays:x,size:q,headerColumnRef:D}),{move:V}=pt(e,{parsedView:ye,parsedValue:Me,weekdaySkips:Re,direction:T,maxDays:x,times:he,emittedValue:$,emit:a}),{getDefaultMouseEventHandlers:J}=ta(a,L),{checkChange:re}=ea(a,{days:te,lastStart:_e,lastEnd:Te}),{isKeyCode:de}=aa(),{tryFocus:j}=Jt(e,{rootRef:ge,focusRef:v,focusValue:A,datesRef:_,days:te,parsedView:ye,parsedValue:Me,emittedValue:$,weekdaySkips:Re,direction:T,times:he}),be=O(()=>ye.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):ye.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:te.value.length),Z=O(()=>ge.value?parseInt(getComputedStyle(ge.value).getPropertyValue("--calendar-resources-width"),10):0),Ye=O(()=>{const n=parseInt(e.resourceHeight,10);return n===0?"auto":n}),Pe=O(()=>parseInt(e.resourceMinHeight,10)),qe=O(()=>{if(ge.value){const n=q.width||ge.value.getBoundingClientRect().width;if(n&&Z.value&&be.value)return(n-Le.value-Z.value)/be.value+"px"}return 100/be.value+"%"});ee([te],re,{deep:!0,immediate:!0}),ee(()=>e.modelValue,(n,g)=>{if($.value!==e.modelValue){if(e.animated===!0){const H=Ee(we(n)),W=Ee(we(g));T.value=H>=W?"next":"prev"}$.value=n}v.value=n}),ee($,(n,g)=>{if($.value!==e.modelValue){if(e.animated===!0){const H=Ee(we(n)),W=Ee(we(g));T.value=H>=W?"next":"prev"}a("update:model-value",n)}}),ee(v,n=>{n&&(A.value=ht(n))}),ee(A,n=>{_.value[v.value]?_.value[v.value].focus():j()}),ee(()=>e.maxDays,n=>{x.value=n}),Qt(()=>{_.value={},I.value={},E.value={},S.value={}}),Ot(()=>{fe()});function nt(){$.value=dt()}function $e(n=1){V(n)}function He(n=1){V(-n)}function _t({width:n,height:g}){q.width=n,q.height=g}function je(n){return n.date===$.value}function mt(){return i("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":Q.value===!0},style:{marginRight:Le.value+"px"}},[ot(),ut()])}function ot(){const n=t["head-resources"],g={days:te.value,timestamps:te.value,date:e.modelValue,resources:e.modelResources};return i("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":Q.value===!0},...J("-head-resources",H=>({scope:g,event:H}))},[n&&n({scope:g})])}function ut(){return i("div",{ref:D,class:{"q-calendar-scheduler__head--days__column":!0}},[st(),yt()])}function st(){return i("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[...gt()])}function yt(){const n=t["head-days-events"];return Kt(()=>{if(E.value&&parseInt(e.columnCount,10)===0&&window)try{const g=window.getComputedStyle(E.value);I.value.parentElement.style.height=g.height,I.value.style.height=g.height}catch{}}),i("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[n&&i("div",{ref:I,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[n({scope:{timestamps:te.value,days:te.value,ref:E}})]),...bt()])}function gt(){return te.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,g)=>g+parseInt(e.columnIndexStart,10)).map(n=>it(te.value[0],n)):te.value.map(n=>it(n))}function bt(){return te.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,g)=>g+parseInt(e.columnIndexStart,10)).map(n=>ct(te.value[0],n)):te.value.map(n=>ct(n))}function it(n,g){const H=t["head-day"],W=t["head-date"],P=e.noActiveDate!==!0&&je(n),M={timestamp:n,activeDate:P,droppable:C.value===n.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1};g!==void 0&&(M.columnIndex=g);const Se=Q.value===!0?se(h.value):qe.value,oe=e.weekdayStyle||Fe,at={width:Se,maxWidth:Se,minWidth:Se,...oe({scope:M})};Q.value===!0&&(at.minWidth=Se);const u=typeof e.weekdayClass=="function"?e.weekdayClass({scope:M}):{},R=e.focusable===!0&&e.focusType.includes("weekday"),B=n.date+(g!==void 0?"-"+g:""),N={key:B,ref:G=>{_.value[B]=G},tabindex:R===!0?0:-1,class:{"q-calendar-scheduler__head--day":!0,...u,...ke(n),"q-active-date":P,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":R===!0},style:at,onFocus:G=>{R===!0&&(v.value=B)},onKeydown:G=>{n.disabled!==!0&&de(G,[13,32])&&(G.stopPropagation(),G.preventDefault())},onKeyup:G=>{n.disabled!==!0&&de(G,[13,32])&&($.value=n.date)},...J("-head-day",G=>({scope:M,event:G})),onDragenter:G=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(G,"head-day",M)===!0?C.value=n.date:C.value="")},onDragover:G=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(G,"head-day",M)===!0?C.value=n.date:C.value="")},onDragleave:G=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(G,"head-day",M)===!0?C.value=n.date:C.value="")},onDrop:G=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(G,"head-day",M)===!0?C.value=n.date:C.value="")}};return i("div",N,[H!==void 0&&H({scope:M}),H===void 0&&p(n,g),H===void 0&&Ze(n),H===void 0&&W&&W({scope:M}),H===void 0&&ae(n,g),rt()])}function Ze(n){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Oe(n),e.noDefaultHeaderBtn!==!0&&et(n)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Oe(n),e.noDefaultHeaderBtn!==!0&&et(n)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Oe(n),e.noDefaultHeaderBtn!==!0&&et(n)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Oe(n),e.noDefaultHeaderBtn!==!0&&et(n)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&et(n),e.noDefaultHeaderText!==!0&&Oe(n)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&et(n),e.noDefaultHeaderText!==!0&&Oe(n)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&et(n),e.noDefaultHeaderText!==!0&&Oe(n)])}function ct(n,g){const H=t["head-day-event"],W=e.noActiveDate!==!0&&je(n),P={timestamp:n,activeDate:W,droppable:C.value===n.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1};g!==void 0&&(P.columnIndex=g);const M=Q.value===!0?se(h.value):qe.value,Se={width:M,maxWidth:M,minWidth:M};return Q.value===!0&&(Se.minWidth=M),i("div",{key:"event-"+n.date+(g!==void 0?"-"+g:""),class:{"q-calendar-scheduler__head--day__event":!0,...ke(n),"q-active-date":W},style:Se},[H&&H({scope:P})])}function Oe(n){const g=t["head-weekday-label"],H=e.shortWeekdayLabel===!0,W={timestamp:n,shortWeekdayLabel:H},P={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",P,g&&g({scope:W})||wt(n,H))}function wt(n,g){const H=Ke.value(n,g||e.weekdayBreakpoints[0]>0&&h.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&h.value<=e.weekdayBreakpoints[1]?da(H,e.minWeekdayLabel):H)}function et(n){const g={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",g,k(n))}function k(n){const g=e.noActiveDate!==!0&&je(n),H=pe.value(n,!1),W=t["head-day-label"],P=t["head-day-button"],M={dayLabel:H,timestamp:n,activeDate:g},Se={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":n.current===!0,"q-calendar__focusable":!0},disabled:n.disabled,onKeydown:oe=>{n.disabled!==!0&&de(oe,[13,32])&&(oe.stopPropagation(),oe.preventDefault())},onKeyup:oe=>{n.disabled!==!0&&de(oe,[13,32])&&($.value=n.date,L.value.onClickDate!==void 0&&a("click-date",{scope:M}))},...J("-date",(oe,at)=>((at==="click-date"||at==="contextmenu-date")&&($.value=n.date,at==="click-date"&&oe.preventDefault()),{scope:M,event:oe}))};return e.noAria!==!0&&(Se.ariaLabel=Xe.value(n)),P?P({scope:M}):oa(e,Se,W?W({scope:M}):H)}function p(n,g){const H=t["column-header-before"];if(H)return i("div",{class:"q-calendar-scheduler__column-header--before"},[H({scope:{timestamp:n,columnIndex:g}})])}function ae(n,g){const H=t["column-header-after"];if(H)return i("div",{class:"q-calendar-scheduler__column-header--after"},[H({scope:{timestamp:n,columnIndex:g}})])}function ue(){return i("div",{class:"q-calendar-scheduler__body"},[ve()])}function ve(){return Q.value===!0?i("div",{ref:o,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[Q.value!==!0&&f(),Be()]):e.noScroll===!0?ce():i("div",{ref:o,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[ce()])}function ce(){return i("div",{ref:m,class:"q-calendar-scheduler__pane"},[Be()])}function Be(){return i("div",{class:"q-calendar-scheduler__day--container"},[Q.value===!0&&e.noHeader!==!0&&mt(),r()])}function r(n=void 0,g=0,H=!0){return n===void 0&&(n=e.modelResources),n.map((W,P)=>y(W,P,g,W.children!==void 0?W.expanded:H))}function y(n,g,H=0,W=!0){const P={};P.height=n.height!==void 0?se(parseInt(n.height,10)):Ye.value?se(Ye.value):"auto",Pe.value>0&&(P.minHeight=se(Pe.value));const M=i("div",{key:n[e.resourceKey]+"-"+g,class:{"q-calendar-scheduler__resource--row":!0},style:P},[l(n,g,H,W),f(n,g,H,W)]);return n.children!==void 0?[M,i("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":W===!0,"q-calendar__child--collapsed":W!==!0}},[r(n.children,H+1,W===!1?W:n.expanded)])]:[M]}function l(n,g,H=0,W=!0){const P=t["resource-label"],M={};M.height=n.height!==void 0?se(parseInt(n.height,10)):Ye.value?se(Ye.value):"auto",parseInt(e.resourceMinHeight,10)>0&&(M.minHeight=se(parseInt(e.resourceMinHeight,10)));const Se=e.resourceStyle||U,oe=n[e.resourceLabel],at=e.focusable===!0&&e.focusType.includes("resource")&&W===!0,u={resource:n,timestamps:te.value,days:te.value,resourceIndex:g,indentLevel:H,label:oe},R=n[e.resourceKey];u.droppable=w.value===R;const B=typeof e.resourceClass=="function"?e.resourceClass({scope:u}):{};return i("div",{key:n[e.resourceKey]+"-"+g,ref:N=>{S.value[n[e.resourceKey]]=N},tabindex:at===!0?0:-1,class:{"q-calendar-scheduler__resource":H===0,"q-calendar-scheduler__resource--section":H!==0,...B,"q-calendar__sticky":Q.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":at===!0},style:{...M,...Se({scope:u})},onDragenter:N=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(N,"resource",u)===!0?w.value=R:w.value="")},onDragover:N=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(N,"resource",u)===!0?w.value=R:w.value="")},onDragleave:N=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(N,"resource",u)===!0?w.value=R:w.value="")},onDrop:N=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(N,"resource",u)===!0?w.value=R:w.value="")},onKeydown:N=>{de(N,[13,32])&&(N.stopPropagation(),N.preventDefault())},onKeyup:N=>{de(N,[13,32])&&L.value.onClickResource!==void 0&&a("click-resource",{scope:u,event:N})},...J("-resource",N=>({scope:u,event:N}))},[[i("div",{class:{"q-calendar__parent":n.children!==void 0,"q-calendar__parent--expanded":n.children!==void 0&&n.expanded===!0,"q-calendar__parent--collapsed":n.children!==void 0&&n.expanded!==!0},onClick:N=>{N.stopPropagation(),n.expanded=!n.expanded,a("resource-expanded",{expanded:n.expanded,scope:u})}}),i("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*H+2+"px"}},[P?P({scope:u}):oe]),rt()]])}function f(n,g,H=0,W=!0){const P=t["resource-days"],M=Q.value===!0?se(h.value):qe.value,Se={resource:n,resourceIndex:g,indentLevel:H,expanded:W,cellWidth:M,timestamps:te.value,days:te.value},oe={};return oe.height=parseInt(e.resourceHeight,10)>0?se(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(oe.minHeight=se(parseInt(e.resourceMinHeight,10))),i("div",{class:"q-calendar-scheduler__resource--days",style:oe},[...b(n,g,H,W),P&&P({scope:Se})])}function b(n,g,H=0,W=!0){return te.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((P,M)=>M+parseInt(e.columnIndexStart,10)).map(P=>s(te.value[0],P,n,g,H,W)):te.value.map(P=>s(P,void 0,n,g,H,W))}function s(n,g,H,W,P=0,M=!0){const Se=t.day,oe=e.dayStyle||Fe,at=e.noActiveDate!==!0&&Me.value.date===n.date,u=n.date+":"+H[e.resourceKey]+(g!==void 0?":"+g:""),R=w.value===u,B={timestamp:n,columnIndex:g,resource:H,resourceIndex:W,indentLevel:P,activeDate:at,droppable:R},N=Q.value===!0?se(h.value):qe.value,G={width:N,maxWidth:N,...oe({scope:B})};G.height=parseInt(e.resourceHeight,10)>0?se(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(G.minHeight=se(parseInt(e.resourceMinHeight,10)));const Y=typeof e.dayClass=="function"?e.dayClass({scope:B}):{},We=e.focusable===!0&&e.focusType.includes("day")&&M===!0;return i("div",{key:n.date+(g!==void 0?":"+g:""),tabindex:We===!0?0:-1,class:{"q-calendar-scheduler__day":P===0,"q-calendar-scheduler__day--section":P!==0,...Y,...ke(n),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":We===!0},style:G,onDragenter:me=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(me,"day",B)===!0?w.value=u:w.value="")},onDragover:me=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(me,"day",B)===!0?w.value=u:w.value="")},onDragleave:me=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(me,"day",B)===!0?w.value=u:w.value="")},onDrop:me=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(me,"day",B)===!0?w.value=u:w.value="")},onKeydown:me=>{de(me,[13,32])&&(me.stopPropagation(),me.preventDefault())},onKeyup:me=>{de(me,[13,32])&&($.value=B.timestamp.date,L.value.onClickResource!==void 0&&a("click-resource",{scope:B,event:me}))},...J("-day-resource",me=>({scope:B,event:me}))},[Se&&Se({scope:B}),rt()])}function F(){return i("div",{},"No resources have been defined")}function K(){const{start:n,end:g,maxDays:H}=ne.value;(X.value!==n.date||z.value!==g.date||x.value!==H)&&(X.value=n.date,z.value=g.date,x.value=H);const W=q.width>0,P=e.modelResources&&e.modelResources.length>0,M=At(i("div",{key:X.value,class:"q-calendar-scheduler"},[W===!0&&P===!0&&Q.value!==!0&&e.noHeader!==!0&&mt(),W===!0&&P===!0&&ue(),P===!1&&F()]),[[Dt,_t]]);if(e.animated===!0){const Se="q-calendar--"+(T.value==="prev"?e.transitionPrev:e.transitionNext);return i(Wt,{name:Se,appear:!0},()=>M)}return M}return d({prev:He,next:$e,move:V,moveToToday:nt,updateCurrent:xe}),()=>le()}});Ht({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...xt,...Ga,...Mt,...la,...Lt,...Ca,...za,...Ua,...na,...Kn},setup(e,{attrs:t,slots:a,expose:d}){const o=c(null),m=O(()=>{switch(e.mode){case"agenda":return ll;case"resource":return il;case"scheduler":return dl;case"month":return ul;case"day":return ka;case"task":return $n;case"day":default:return ka}});function D(){o.value.moveToToday()}function v(C=-1){o.value.move(C)}function A(C=1){o.value.next(C)}function _(C=1){o.value.prev(C)}function S(){o.value.updateCurrent()}function I(C,w=!0){return o.value.timeStartPos(C,w)}function E(C,w=!0){return o.value.timeStartPosX(C,w)}function T(C){return o.value.timeDurationWidth(C)}function X(C){return o.value.timeDurationHeight(C)}function z(C){return o.value.heightToMinutes(C)}function x(C){return o.value.widthToMinutes(minutes)}function $(C){return o.value.scrollToTime(C)}function q(C){return o.value.scrollToTimeX(C)}return d({prev:_,next:A,move:v,moveToToday:D,updateCurrent:S,timeStartPos:I,timeStartPosX:E,timeDurationWidth:T,timeDurationHeight:X,heightToMinutes:z,widthToMinutes:x,scrollToTime:$,scrollToTimeX:q}),()=>i(m.value,{ref:o,...e,...t},a)}});const ol=()=>!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function Ba(e){return e.button===0}const sl=Ht({name:"dayCalendar",components:{NavigationBar:Qn,QCalendarDay:ka,addGoalForm:Ln},data(){return c(null),c(null),c(null),c(null),c(null),c(null),Un(),{currentDate:c(dt()),scoreOptions:c([1,2,3,4,5]),chosenScore:c(null),events:[],calendar:c(null),store:zn(),anchorTimestamp:c(null),otherTimestamp:c(null),mouseDown:c(!1),mobile:c(!0),timeStartPos:c(0),showGoalForm:c(!1),showEventDialog:c(!1),conflictReso:c(!1),resoType:c(""),toAddE:c(null),disabledScoreEvts:c({}),disableSaveSchedule:c(!0),reloadSaved:c(!1),loadDefault:c(!0),doSchedule:c(!1)}},beforeMount(){this.mobile=ol(),this.events=this.returnNewEvts(!0)},beforeUnmount(){clearInterval(this.intervalId)},mounted(){this.adjustCurrentTime(),this.intervalId=setInterval(()=>{this.adjustCurrentTime()},6e4)},computed:{chosenScoreLabel(){return this.chosenScore==null?"Scheduled All":`Schedule >${this.chosenScore}`},showForm(){return this.showGoalForm},doDisableSaveSchedule(){return this.disableSaveSchedule},eventsMap(){const e={};return this.events.forEach(t=>{if(e[t.date]||(e[t.date]=[]),e[t.date].push(t),t.days){console.log(`eventsMap multiple days? event for ${t.date}`,t.days);let a=ht(t.date),d=t.days;do a=Ne(a,{day:1}),e[a.date]||(e[a.date]=[]),e[a.date].push(t);while(--d>0)}}),e},parentGoalsMap(){const e=new Map;let t=this.store.getMainGoals;return t?(t.forEach(a=>{e.set(a.id,a)}),e):(console.log("parentGoalsMap is empty or null",t),e)},canbeScheduled(){let e=this.deepCopy(this.storedEvents),t=e.filter(a=>!this.events.find(d=>d.id==a.id));return t.length==0?e:t},storedEvents(){return this.store.getSubGoals},style(){return{top:this.timeStartPos+"px"}},startEndTimes(){const e=[];return this.anchorDayTimeIdentifier!==!1&&this.otherDayTimeIdentifier!==!1&&(this.anchorDayTimeIdentifier<=this.otherDayTimeIdentifier?e.push(St(this.anchorTimestamp),St(this.otherTimestamp)):e.push(St(this.otherTimestamp),St(this.anchorTimestamp))),e},anchorDayTimeIdentifier(){return this.anchorTimestamp!==null?vt(this.anchorTimestamp):!1},otherDayTimeIdentifier(){return this.otherTimestamp!==null?vt(this.otherTimestamp):!1}},methods:{returnNewEvts(e=!1){if(this.events===this.allEvents&&console.log("returnNewEvts SAME"),e){let t=this.deepCopy(this.storedEvents);return this.allEvents=[...t],t}return this.allEvents},addPropsEventsTo(e,t){let a=this.parentGoalsMap;return t?(t.forEach(d=>{d.date=e!=null?e:d.date;let o=a.get(d.parentGoal);o?(d.bgcolor=o.bgcolor,d.details="from:"+o.title):(console.log("no parent goal for:",d),d.bgcolor="red",d.details="unknown")}),console.log("addPropsEventsTo",e),t):(this.doNotify("addPropsEventsTo BUT no goals to schedule..."),[])},getTimeNumber(e){return e!==null?vt(e):!1},adjustCurrentTime(){const e=_a(new Date);if(this.currentDate!==e.date){this.timeStartPos=-10,this.currentTime="";return}this.currentDate=e.date,this.currentTime=e.time,this.timeStartPos=this.$refs.calendar.timeStartPos(this.currentTime,!1),this.endTimesSet&&this.endTimesSet.has(e.time)?(this.enableEditScore(e.time),this.doNotify(`WOOO at end of a scheduled event ${e.time}`,"positive")):this.hasUncompletedEvents()||(this.doNotify("WOOOHOO finished all events","positive"),this.disableSaveSchedule=!1)},hasUncompletedEvents(){for(let e in this.disabledScoreEvts)if(this.disabledScoreEvts[e])return!0;return!1},hasDate(e){return this.currentDate?e.find(t=>t.date===this.currentDate):!1},badgeClasses(e,t){const a=t==="header";return{[`text-white bg-${e.bgcolor.toLocaleLowerCase()}`]:!0,"full-width":!a&&(!e.side||e.side==="full"),"left-side":!a&&e.side==="left","right-side":!a&&e.side==="right","rounded-border":!0}},badgeStyles(e,t,a=void 0,d=void 0){const o={};return a&&d&&(o.top=a(e.time)+"px",o.height=d(e.duration)+"px"),o["align-items"]="flex-start",o},getAnEvent(e){for(let t=0;t<this.events.length;t++)if(this.events[t].id===e)return this.events[t];return null},addAnEvent(e){console.log("oooh addAnEvent..ORIG",e,this.currentDate);let t=this.addPropsEventsTo(this.currentDate,[e]);console.log("addAnEvent..after",t[0],e),this.events.push(e);let a=Ne(we(e.date),{minute:Ct(e.time)}),d=Ne(a,{minute:e.duration});this.dailyScheduled.set(e.id,{start:a,end:d,on:e.date,originalAt:e.time,for:e.duration,score:e.score}),this.endTimesSet.add(d.time)},saveCurrentSchedule(){const e=new Map;let t=new Set;const a=_a(new Date);let d=new Set,o=new Set;return this.events.forEach(m=>{let D=Ne(we(m.date),{minute:Ct(m.time)}),v=Ne(D,{minute:m.duration});e.set(m.id,{start:D,end:v,on:m.date,originalAt:m.time,for:m.duration,score:m.score}),t.add(v.time),o.has(D.time)?d.add({at:D.time,id:m.id}):o.add(D.time),Wa(a,v)>0?this.disabledScoreEvts[m.id]=!0:this.disabledScoreEvts[m.id]=!1}),this.dailyScheduled=e,this.endTimesSet=t,console.log("done saveCurrentSchedule",o,d),d},canEnableEditScore(e,t){const a=_a(new Date);Wa(a,t)>0?this.disabledScoreEvts[e]=!0:this.disabledScoreEvts[e]=!1},getEvents(e){const t=this.eventsMap[e]||[];if(t.length===1)t[0].side="full";else if(t.length===2){console.log("daEvents...LENGTH is 2?",t);const a=Ne(we(t[0].date),{minute:Ct(t[0].time)}),d=Ne(a,{minute:t[0].duration}),o=Ne(we(t[1].date),{minute:Ct(t[1].time)}),m=Ne(o,{minute:t[1].duration});Aa(o,a,d,!0)||Aa(m,a,d,!0)?(t[0].side="left",t[1].side="right"):(t[0].side="full",t[1].side="full")}return t},overlapOtherEvent(e,t,a){const d=[];let o=Ne(t,{minute:0}),m=Ne(o,{minute:a});console.log("overlapOtherEvent...targetTimes",o.time,m.time);let D=this.getTimeNumber(o),v=this.getTimeNumber(m);return D===!1||v===!1?(console.log("ERROR... overlapOtherEvent targetTimestamp error",t),d):(this.dailyScheduled.forEach((A,_,S)=>{if(_!=e){let I=this.getTimeNumber(A.start),E=this.getTimeNumber(A.end);if(I!==!1&&E!==!1){let T=D>=I&&D<E||v>=I&&v<=E,X=I>=D&&v>=E;(T||X)&&(console.log(`${_} overlapOtherEvent added`,T,X),d.push(_))}else console.log("ERROR... overlapOtherEvent eventTimestamp error",A)}}),d)},recurChangeTime(e,t,a,d=!1){let o=this.dailyScheduled.get(e);if(o){console.log(`dragDirection...target>>${a.time}`);let m=Ct(a.time)-Ct(t.time);console.log(`dragDirection...${d}: ${m>0?"DOWN":"UP"}`);let D=null;m>0||d?D=Ne(a,{minute:parseInt(t.duration)+10}):D=Ne(a,{minute:-(parseInt(t.duration)+10)});let v=this.overlapOtherEvent(e,D,o.for);if(v.length>0){console.log("WARNING...more overlaps",v,D.time);let T=0,X=v.length,z=this.getAnEvent(e);do console.log("CASCADE recurChangeTime:",v[T],D.time,z.title),this.recurChangeTime(v[T],z,D,d);while(++T<X)}let[A,_]=this.changeEvtSchedule(e,D);console.log("overlappedEvtNew..",A,_,e,D);let S=m>0?Ne(a,{minute:0}):Ne(a,{minute:0}),[I,E]=this.changeEvtSchedule(t.id,S);console.log("recurChangeTime complete",I,E,t.id,S)}else console.log("ERROR overlapped event not found!",e)},changeEvtSchedule(e,t){let a=this.changeEventSchedule(e,t),d=this.updateScheduleMaps(e,t);return[a,d]},retrieveSameStart(e){let t=[];for(let[a,d]of this.dailyScheduled)d.start.time==e&&t.push(a);return t},retrieveSameEnd(e){let t=[];for(let[a,d]of this.dailyScheduled)d.end.time==e&&(console.log("retrieveSameEnd...FOUND",a,d),t.push(a));return t},enableEditScore(e){let t=this.retrieveSameEnd(e);console.log("enableEditScore...FOUND",t);for(let a of t)this.disabledScoreEvts[a]=!1},updateScheduleMaps(e,t){if(this.dailyScheduled.has(e)){let a=this.dailyScheduled.get(e),d=a.for,o=a.originalAt,m=a.end,D=Ne(t,{minute:d}),v=a.score;return this.dailyScheduled.set(e,{on:t.date,originalAt:o,for:d,start:t,end:D,score:v}),this.endTimesSet.delete(m.time)?this.endTimesSet.add(D.time):console.log("updateScheduleMaps-endTimesSet NOT FOUND?!?"),this.canEnableEditScore(e,D),!0}else return console.log("updateScheduleMaps--euh not found?ERROR?",e,t),!1},changeEventSchedule(e,t){console.log("changeEventSchedule",e,t.time);for(let a=0;a<this.events.length;a++){let d=this.events[a];if(d.id===e)return d.canMove?d.time=t.time:this.$q.dialog({title:"Alert",cancel:!0,message:`Move evt: ${d.title} around to ${t.time}?`}).onOk(()=>{d.time=t.time}).onCancel(()=>{this.doNotify(`${d.title} Cancelled moving ...`)}),!0}return!1},doRemove(e){let t=this.events.length;for(var a=0;a<t;a++)if(this.events[a].id===e.id){this.events.splice(a,1),console.log("removed event spliced!",e.title),this.dailyScheduled.has(e.id)?this.dailyScheduled.delete(e.id):console.log("ERROR doRemove has no such item?@? ",e);return}},reset(){this.draggedItem=null,this.targetDrop=null,this.toAddE=null,this.chosenScore=null},doNotify(e,t=void 0){this.$q.notify({color:t!==void 0?t:"negative",position:"top",message:e,icon:t==null?"report_problem":"thumb_up"})},askUser(e){},updateButtons(e=null,t=null,a=null){this.reloadSaved=e!=null?e:this.reloadSaved,this.loadDefault=t!=null?t:this.loadDefault,this.doSchedule=a!=null?a:this.doSchedule},fetchEventsForDate(e){let t=this.store.getEventsForDate(e);if(!t){console.log(`ERROR no evts found for ${e}...`,t);return}let a=this.deepCopy(this.storedEvents),d=[];a.forEach(o=>{let m=t[o.id];m&&(o.date=e,o.time=m.time,o.duration=m.duration,d.push(o))}),d=this.addPropsEventsTo(null,d),this.events=d,this.saveCurrentSchedule()},onRefresh(e){setTimeout(()=>{this.loadSavedEvents(this.currentDate),console.log("Refreshing...",this.currentDate),e()},1e3)},doSaveSchedule(){console.log("doSaveSchedule for",this.currentDate);const e={};this.dailyScheduled.forEach((t,a,d)=>{e[a]={duration:t.for,time:t.start.time}}),this.store.saveDailySchedule(this.currentDate,e),this.disableSaveSchedule=!0},onAddEvent(){this.showEventDialog=!1,this.draggedItem=this.toAddE;let e=this.getAnEvent(this.toAddE.id);e||(console.log("onAddEvent...NEW",e,this.toAddE),e=this.toAddE,this.addAnEvent(this.toAddE));let t=this.overlapOtherEvent(e.id,this.targetDrop.timestamp,e.duration);console.log("AddEvent anyOverlap",t);let a=t.length;if(a>0){let d=0;do this.recurChangeTime(t[d],e,this.targetDrop.timestamp,!0);while(++d<a)}else if(this.dailyScheduled.has(e.id)){let[d,o]=this.changeEvtSchedule(e.id,this.targetDrop.timestamp);console.log("AddEvent that was there complete",d,o,e.id)}else console.log("ERROR ERROR NEW event with current events as:",this.events);this.disableSaveSchedule=!1,this.updateButtons(null,!0,!0),this.reset()},onPickConflictReso(e,t){for(let a of t)a.id==e.id?console.log("Skipping choice!",a):(console.log("Removing conflict event!",a),this.doRemove(a))},onSaveScore(e,t){let a=this.dailyScheduled.get(t);a?(console.log(`oooh onSaveScore from ${a.score} to ${e}`,t),a.score=e,this.store.saveSubProp(t,null,e)):console.log(`ERROR could not find event ${t}?!?`)},onDragStart(e,t){console.log("onDragStart",e,t),this.draggedItem=t},onDragEnter(e,t,a){return t==="goal-item"?(console.log("onDragEnter..goal-item",e,a),e.preventDefault()):(this.targetDrop=a,e.preventDefault()),!0},onDragOver(e,t,a){return e.preventDefault(),!0},onDragLeave(e,t,a){return!1},onDragEnd(e){console.log("onDragEnd",this.endTimesSet)},onDrop(e,t,a){console.log("onDrop",e,t,a);let d=this.getAnEvent(this.draggedItem.id);if(!d){console.log("onDrop ERROR",d,this.draggedItem);return}let o=null;if(t==="interval")console.log("onDrop...normal move with scope",a.timestamp),o=a.timestamp;else if(t==="goal-item"&&this.targetDrop)console.log("Dropping goal-item!!",e,t,this.targetDrop.timestamp),o=this.targetDrop.timestamp;else{console.log("Cannot drop here YO!!",e,t,a,this.targetDrop);return}if(!o){console.log("ERROR...no timestamp YO!!",e,t,a,this.targetDrop);return}let m=this.overlapOtherEvent(d.id,o,d.duration),D=m.length;if(D>0){console.log("WOAH WOAH onDrop...overlapp!",m);let v=0;do this.recurChangeTime(m[v],d,o);while(++v<D)}else{let[v,A]=this.changeEvtSchedule(d.id,o);console.log("onDrop no overlap complete",v,A,d.id)}this.disableSaveSchedule=!1,this.reset(),this.updateButtons(null,!0,null)},onDblClickEvent(e,t){this.$q.dialog({title:"Alert",cancel:!0,message:`Sure to remove evt: ${t.title} from today?`}).onOk(()=>{this.doRemove(t),this.saveCurrentSchedule(),this.updateButtons(null,!0,null),this.disableSaveSchedule=!1}).onCancel(()=>{console.log("Cancelled remove")})},onClickDate(e){console.log("onClickDate",e)},onClickTime(e){console.log("onClickTime..event",e),this.showEventDialog=!0,this.targetDrop=e.scope},onClickInterval(e){console.log("onClickInterval",e)},onClickHeadIntervals(e){console.log("onClickHeadIntervals",e)},onClickHeadDay(e){console.log("onClickHeadDay",e)},onMouseEnter(e){console.log("onMouseAt",e)},onMouseLeave(e){console.log("onMouseLeave",JSON.stringify(e))},onMouseDownTime({scope:e,event:t}){if(console.log("onMouseDownTime",{scope:e,event:t}),Ba(t)){if(this.mobile===!0&&this.anchorTimestamp!==null&&this.otherTimestamp!==null&&St(this.anchorTimestamp)===St(this.otherTimestamp)){this.otherTimestamp=e.timestamp,this.mouseDown=!1;return}this.mouseDown=!0,this.anchorTimestamp=e.timestamp,this.otherTimestamp=e.timestamp}},onMouseUpTime({scope:e,event:t}){if(console.log("onMouseUpTime",{scope:e,event:t}),this.mobile!==!0&&Ba(t)&&(this.otherTimestamp=e.timestamp,this.mouseDown=!1),!this.mousedown){let a=this.startEndTimes;console.log("onMouseUpTime range",a)}},onMouseMoveTime({scope:e,event:t}){this.mobile!==!0&&this.mouseDown===!0&&(this.otherTimestamp=e.timestamp)},scrollToEvent(e){this.$refs.calendar.scrollToTime(e.time,350)},onToday(){this.$refs.calendar.moveToToday()},onPrev(){this.doReset=!0,this.$refs.calendar.prev()},onNext(){this.$refs.calendar.next()},onChange(e){let t=this.store.hasEventsForDate(this.currentDate),a=dt();e.start==this.currentDate&&this.currentDate==a?(console.log("onChange and all dates are ALIKE!"),this.events=this.addPropsEventsTo(e.start,this.doReset?this.returnNewEvts(!0):this.events),this.doReset=!1):(console.log("onChange..something is different?",e.start,this.currentDate,a,t),this.events=this.addPropsEventsTo(this.currentDate,this.returnNewEvts(!0)),this.disableSaveSchedule=!0);let d=this.saveCurrentSchedule();d.size>0&&(console.log("onChange..has some conflicts",d),t?this.onReloadSaved(d):this.fixConflicts(d)),this.updateButtons(t,!t,!t),t&&console.log("onChange and has saved DateEvts!!CHANGE?")},fixConflicts(e){const t=o=>{let m=0,D=null;for(let v of o){let A=this.getAnEvent(v);if(A){let _=this.parentGoalsMap.get(A.parentGoal);_?_.priority>m&&(m=_.priority,D=A):console.log("findhigherPrio..ERROR no PARENT found?",A)}else console.log("findhigherPrio..ERROR not found?",v)}return console.log("findhigherPrio..Highest priority be",D,m),D};let a=function(o){const m=o.split(/on/);return m.length!=2?(console.log(`parseScore error?${o}`,m),-1):m[1]-m[0]};const d=o=>({label:o.title,value:o.id});for(let o of e){let m=null,D=this.retrieveSameStart(o.at);console.log("fixConflicts...results",D,o);let v=[],A="";for(let _ of D){let S=this.getAnEvent(_);S?(v.push(S),A+=S.title+","):console.log("fixConflicts...ERROR not found?",_)}this.$q.dialog({title:"Alert",cancel:!1,persistent:!0,message:`${A} are conflicting.
 Choose how to solve this...`,options:{type:"radio",model:"opt1",items:[{label:"Resolve by Highest Priority",value:"opt1",color:"secondary"},{label:"Resolve by lowest Score",value:"opt2"},{label:"Pick event",value:"opt3"}]}}).onOk(_=>{if(_=="opt3"){this.$q.dialog({title:"Alert",cancel:!1,persistent:!0,message:"Choose the event to schedule",options:{type:"radio",model:"",items:v.map(d)}}).onOk(I=>{console.log("Chosen Manually",I);let E=this.getAnEvent(I);E?m=E:console.log("ERROR...Manually choice not find",I)}).onCancel(()=>{console.log("Cancelled loading...")}).onDismiss(()=>{console.log("oooh dismissed inner...",m),this.onPickConflictReso(m,v)});let S=this.saveCurrentSchedule();console.log("fixConflicts inner...after conflicts?",S),this.updateButtons(null,!0,null),this.disableSaveSchedule=!1}else if(_=="opt2"){console.log(">>>> OK, Option Score",_);let S=0,I=null;for(let E of v){let T=a(E.score);T>-1&&T>=S?(S=T,I=E):console.log("ERROR...parseScore?",T,E)}I&&(console.log("Option Score Chosen",I),m=I)}else m=t(D),console.log(">>>> OK, Higher prio",_,m);console.log("Pick be",m)}).onCancel(()=>{console.log("Cancelled loading...")}).onDismiss(()=>{if(console.log("Dismissing...",m),m){this.onPickConflictReso(m,v);let _=this.saveCurrentSchedule();console.log("fixConflicts outer...after conflicts?",_),this.updateButtons(null,!0,null),this.disableSaveSchedule=!1}})}return!0},onReloadSaved(e=null){console.log("doReloadSaved:",this.currentDate),this.$q.dialog({title:"Alert",cancel:!0,message:"Some saved schedule found, load it up?"}).onOk(()=>(this.fetchEventsForDate(this.currentDate),this.updateButtons(!1,!0,!1),this.reset(),!0)).onCancel(()=>(console.log("Cancelled loading..."),e&&(console.log("dont wanna reload eh..fix conflicts then",e),this.fixConflicts(e)),this.updateButtons(!0,!1,!0),!1))},onLoadDefault(){this.events=null,console.log("doLoadDefault:",this.currentDate),this.events=this.addPropsEventsTo(this.currentDate,this.returnNewEvts(!0)),this.saveCurrentSchedule();let e=this.store.hasEventsForDate(this.currentDate);this.updateButtons(e,!1,!0),this.disableSaveSchedule=!0,this.chosenScore=null},onReloadWithScore(){if(this.chosenScore==null){this.doNotify("Ayo select a score!");return}let e=this.store.fetchGoalsWithMinScore(this.chosenScore);console.log("bringScorey:",this.currentDate,this.chosenScore,e),e=this.addPropsEventsTo(this.currentDate,e),this.events=e,this.saveCurrentSchedule(),this.updateButtons(!1,!0,!0),this.disableSaveSchedule=!1},deepCopy(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(a=>this.deepCopy(a));const t={};for(let a in e)e.hasOwnProperty(a)&&(t[a]=this.deepCopy(e[a]));return t}}}),Xa=e=>(Cn("data-v-a813073a"),e=e(),qn(),e),cl={key:0,class:"q-gutter-md"},fl={key:1,class:"subcontent"},vl={class:"float-right"},hl={key:0},ml={key:1},yl={key:2},gl={class:"row justify-center"},_l={style:{display:"flex","max-width":"800px",width:"100%",height:"400px"}},bl={style:{display:"flex","justify-content":"center","flex-wrap":"wrap",padding:"2px"}},wl={class:"title q-calendar__ellipsis"},Dl=["onDblclick","onDragstart"],kl={class:"title q-calendar__ellipsis"},Sl=Xa(()=>lt("div",{class:"text-h3"},"Pick event",-1)),Cl={class:"q-ml-md event-select"},ql={class:"row justify-center"},El=Xa(()=>lt("br",null,null,-1)),Tl={class:"scroll overflow-auto",style:{height:"360px",width:"100%"}};function Fl(e,t,a,d,o,m){const D=va("add-goal-form"),v=va("navigation-bar"),A=va("q-calendar-day");return ze(),tt(kt,null,[e.showForm?(ze(),tt("div",cl,[De(ft,{class:"q-pl-xl justify-center",color:"","text-color":"green",elevated:"",label:"HideForm",onClick:t[0]||(t[0]=_=>e.showGoalForm=!e.showGoalForm),"no-caps":""}),De(D)])):Tt("",!0),e.showForm?Tt("",!0):(ze(),tt("div",fl,[De(Bn,{onRefresh:e.onRefresh},{default:Ve(()=>[De(v,{onToday:e.onToday,onPrev:e.onPrev,onNext:e.onNext},null,8,["onToday","onPrev","onNext"]),lt("div",vl,[e.reloadSaved?(ze(),tt("div",hl,[De(ft,{class:"q-mt-xl",color:"","text-color":"green",elevated:"",label:"Load Saved",onClick:e.onReloadSaved,"no-caps":""},null,8,["onClick"])])):Tt("",!0),e.loadDefault?(ze(),tt("div",ml,[De(ft,{class:"q-mt-xl",color:"","text-color":"blue",elevated:"",label:"Defaults",onClick:e.onLoadDefault,"no-caps":""},null,8,["onClick"])])):Tt("",!0),e.doSchedule?(ze(),tt("div",yl,[De(jn,{split:"",color:"",class:"q-mt-xl","text-color":"teal",elevated:"",label:e.chosenScoreLabel,onClick:e.onReloadWithScore,"no-caps":""},{default:Ve(()=>[De(Hn,null,{default:Ve(()=>[(ze(!0),tt(kt,null,ua(e.scoreOptions,_=>At((ze(),ha(Fn,{key:_.id,clickable:"",onClick:S=>e.chosenScore=_},{default:Ve(()=>[De(En,null,{default:Ve(()=>[De(Tn,null,{default:Ve(()=>[Rt(Ft(_),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[pn]])),128))]),_:1})]),_:1},8,["label","onClick"])])):Tt("",!0)])]),_:1},8,["onRefresh"]),lt("div",gl,[lt("div",_l,[De(A,{ref:"calendar",view:"day",modelValue:e.currentDate,"onUpdate:modelValue":t[5]||(t[5]=_=>e.currentDate=_),"drag-enter-func":e.onDragEnter,"drag-over-func":e.onDragOver,"drag-leave-func":e.onDragLeave,"drop-func":e.onDrop,animated:"",bordered:"",hoverable:"","no-active-date":"","transition-next":"slide-left","transition-prev":"slide-right","time-clicks-clamped":"","interval-minutes":15,"interval-count":96,"interval-height":28,"selected-start-end-dates":e.startEndTimes,onChange:e.onChange,onClickDate:e.onClickDate,onClickTime:e.onClickTime,onClickInterval:e.onClickInterval,onClickHeadIntervals:e.onClickHeadIntervals,onClickHeadDay:e.onClickHeadDay,onMousedownTime:e.onMouseDownTime,onMouseupTime:e.onMouseUpTime,onMousemoveTime:e.onMouseMoveTime},{"head-day-event":Ve(({scope:{timestamp:_}})=>[lt("div",bl,[(ze(!0),tt(kt,null,ua(e.eventsMap[_.date],S=>(ze(),tt(kt,{key:S.id},[S.time?(ze(),ha(xa,{key:1,class:ma(e.badgeClasses(S,"header")),style:Pt([e.badgeStyles(S,"header"),{margin:"1px",width:"10px","max-width":"10px",height:"10px","max-height":"10px",cursor:"pointer"}]),onClick:I=>e.scrollToEvent(S)},{default:Ve(()=>[De(ba,null,{default:Ve(()=>[Rt(Ft(S.time+" - "+S.title),1)]),_:2},1024)]),_:2},1032,["class","style","onClick"])):(ze(),ha(xa,{key:0,class:ma(e.badgeClasses(S,"header")),style:Pt([e.badgeStyles(S,"header"),{width:"100%",cursor:"pointer",height:"12px","font-size":"10px",margin:"1px"}])},{default:Ve(()=>[lt("div",wl,[Rt(Ft(S.title)+" ",1),De(ba,null,{default:Ve(()=>[Rt(Ft(S.details),1)]),_:2},1024)])]),_:2},1032,["class","style"]))],64))),128))])]),"day-container":Ve(({scope:{days:_}})=>[e.hasDate(_)?(ze(),tt(kt,{key:0},[lt("div",{class:"day-view-current-time-indicator",style:Pt(e.style)},null,4),lt("div",{class:"day-view-current-time-line",style:Pt(e.style)},null,4)],64)):Tt("",!0)]),"day-body":Ve(({scope:{timestamp:_,timeStartPos:S,timeDurationHeight:I}})=>[(ze(!0),tt(kt,null,ua(e.getEvents(_.date),E=>(ze(),tt(kt,{key:E.id},[E.time!==void 0?(ze(),tt("div",{key:0,class:ma(["my-event",e.badgeClasses(E,"body")]),style:Pt(e.badgeStyles(E,"body",S,I)),draggable:!0,onDblclick:ya(T=>e.onDblClickEvent(T,E),["prevent"]),onDragstart:ya(T=>e.onDragStart(T,E),["stop"]),onDragend:t[1]||(t[1]=ya((...T)=>e.onDragEnd&&e.onDragEnd(...T),["stop"])),onDrop:t[2]||(t[2]=T=>e.onDrop(T,"goal-item",e.scope)),onDragenter:t[3]||(t[3]=T=>e.onDragEnter(T,"goal-item",e.scope)),onDragover:t[4]||(t[4]=T=>e.onDragOver(T,"goal-item",e.scope))},[lt("div",kl,[Rt(Ft(E.title)+" ",1),De(ba,null,{default:Ve(()=>[Rt(Ft(E.time+" - "+E.details+" :"+E.score),1)]),_:2},1024),De(Jn,{modelValue:E.score,"onUpdate:modelValue":T=>E.score=T,"auto-save":"",disable:e.disabledScoreEvts[E.id],onSave:T=>e.onSaveScore(T,E.id)},{default:Ve(T=>[De(_n,{modelValue:T.value,"onUpdate:modelValue":X=>T.value=X,dense:"",autofocus:"",onKeyup:bn(T.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue","disable","onSave"])])],46,Dl)):Tt("",!0)],64))),128))]),_:1},8,["modelValue","drag-enter-func","drag-over-func","drag-leave-func","drop-func","selected-start-end-dates","onChange","onClickDate","onClickTime","onClickInterval","onClickHeadIntervals","onClickHeadDay","onMousedownTime","onMouseupTime","onMousemoveTime"])]),De(gn,{modelValue:e.showEventDialog,"onUpdate:modelValue":t[7]||(t[7]=_=>e.showEventDialog=_),"transition-show":"rotate","transition-hide":"rotate"},{default:Ve(()=>[De(wn,null,{default:Ve(()=>[De(Dn,null,{default:Ve(()=>[Sl]),_:1}),De(kn),lt("div",Cl,[De(In,{modelValue:e.toAddE,"onUpdate:modelValue":t[6]||(t[6]=_=>e.toAddE=_),options:e.canbeScheduled,"option-value":"id","option-label":"title",label:"Sub Goal","item-aligned":""},null,8,["modelValue","options"])]),De(Sn,{align:"right"},{default:Ve(()=>[De(ft,{flat:"",label:"Add",color:"primary",onClick:e.onAddEvent},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),lt("div",ql,[De(ft,{class:"q-mt-xl",color:"Green","text-color":"blue",elevated:"",label:"SaveSchedule",disable:e.doDisableSaveSchedule,onClick:e.doSaveSchedule,"no-caps":""},null,8,["disable","onClick"]),De(ft,{class:"q-mt-xl",color:"","text-color":"green",elevated:"",label:"ShowForm",onClick:t[8]||(t[8]=_=>e.showGoalForm=!e.showGoalForm),"no-caps":""})]),El,lt("div",Tl,[(ze(!0),tt(kt,null,ua(e.storedEvents,(_,S)=>(ze(),tt("div",{key:S,class:"col-12",style:{"font-size":"10px","line-height":"10px","max-height":"14px","min-height":"14px",padding:"2px 2px","white-space":"nowrap"}},Ft(_),1))),128))])]))],64)}var Ll=yn(sl,[["render",Fl],["__scopeId","data-v-a813073a"]]);export{Ll as default};
